/*!
 * jQuery JavaScript Library v1.11.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-17T15:27Z
 */
!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=ie.type(t);return"function"===n||ie.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(ie.isFunction(e))return ie.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return ie.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(he.test(e))return ie.filter(e,t,n);e=ie.filter(e,t)}return ie.grep(t,function(t){return ie.inArray(t,e)>=0!==n})}function i(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e=xe[t]={};return ie.each(t.match(be)||[],function(t,n){e[n]=!0}),e}function a(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(fe.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(a(),ie.ready())}function u(t,e,n){if(void 0===n&&1===t.nodeType){var r="data-"+e.replace(Ce,"-$1").toLowerCase();if(n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ke.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(t,e,n)}else n=void 0}return n}function l(t){var e;for(e in t)if(("data"!==e||!ie.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,r){if(ie.acceptData(t)){var i,o,a=ie.expando,s=t.nodeType,u=s?ie.cache:t,l=s?t[a]:t[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof e)return l||(l=s?t[a]=V.pop()||ie.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ie.noop}),("object"==typeof e||"function"==typeof e)&&(r?u[l]=ie.extend(u[l],e):u[l].data=ie.extend(u[l].data,e)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(e)]=n),"string"==typeof e?(i=o[e],null==i&&(i=o[ie.camelCase(e)])):i=o,i}}function d(t,e,n){if(ie.acceptData(t)){var r,i,o=t.nodeType,a=o?ie.cache:t,s=o?t[ie.expando]:ie.expando;if(a[s]){if(e&&(r=n?a[s]:a[s].data)){ie.isArray(e)?e=e.concat(ie.map(e,ie.camelCase)):e in r?e=[e]:(e=ie.camelCase(e),e=e in r?[e]:e.split(" ")),i=e.length;for(;i--;)delete r[e[i]];if(n?!l(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?ie.cleanData([t],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(t){}}function m(t){var e=He.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function g(t,e){var n,r,i=0,o=typeof t.getElementsByTagName!==$e?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==$e?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(r=n[i]);i++)!e||ie.nodeName(r,e)?o.push(r):ie.merge(o,g(r,e));return void 0===e||e&&ie.nodeName(t,e)?ie.merge([t],o):o}function v(t){Ae.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return ie.nodeName(t,"table")&&ie.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function b(t){return t.type=(null!==ie.find.attr(t,"type"))+"/"+t.type,t}function x(t){var e=Ue.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){for(var n,r=0;null!=(n=t[r]);r++)ie._data(n,"globalEval",!e||ie._data(e[r],"globalEval"))}function _(t,e){if(1===e.nodeType&&ie.hasData(t)){var n,r,i,o=ie._data(t),a=ie._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(e,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function $(t,e){var n,r,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ne.noCloneEvent&&e[ie.expando]){i=ie._data(e);for(r in i.events)ie.removeEvent(e,r,i.handle);e.removeAttribute(ie.expando)}"script"===n&&e.text!==t.text?(b(e).text=t.text,x(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ne.html5Clone&&t.innerHTML&&!ie.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ae.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function k(e,n){var r,i=ie(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function C(t){var e=fe,n=Ze[t];return n||(n=k(t,e),"none"!==n&&n||(Ye=(Ye||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Ye[0].contentWindow||Ye[0].contentDocument).document,e.write(),e.close(),n=k(t,e),Ye.detach()),Ze[t]=n),n}function T(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function S(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=e,i=pn.length;i--;)if(e=pn[i]+n,e in t)return e;return r}function E(t,e){for(var n,r,i,o=[],a=0,s=t.length;s>a;a++)r=t[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ee(r)&&(o[a]=ie._data(r,"olddisplay",C(r.nodeName)))):(i=Ee(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function j(t,e,n){var r=ln.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function A(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ie.css(t,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(t,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(t,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(t,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(t,"border"+Se[o]+"Width",!0,i)));return a}function N(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=tn(t),a=ne.boxSizing&&"border-box"===ie.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=en(t,e,o),(0>i||null==i)&&(i=t.style[e]),rn.test(i))return i;r=a&&(ne.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+A(t,e,n||(a?"border":"content"),r,o)+"px"}function D(t,e,n,r,i){return new D.prototype.init(t,e,n,r,i)}function P(){return setTimeout(function(){fn=void 0}),fn=ie.now()}function F(t,e){var n,r={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=Se[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function L(t,e,n){for(var r,i=(xn[e]||[]).concat(xn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,e,t))return r}function H(t,e,n){var r,i,o,a,s,u,l,c,d=this,h={},p=t.style,f=t.nodeType&&Ee(t),m=ie._data(t,"fxshow");n.queue||(s=ie._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ie.css(t,"display"),c="none"===l?ie._data(t,"olddisplay")||C(t.nodeName):l,"inline"===c&&"none"===ie.css(t,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==C(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],gn.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;f=!0}h[r]=m&&m[r]||ie.style(t,r)}else l=void 0;if(ie.isEmptyObject(h))"inline"===("none"===l?C(t.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(f=m.hidden):m=ie._data(t,"fxshow",{}),o&&(m.hidden=!f),f?ie(t).show():d.done(function(){ie(t).hide()}),d.done(function(){var e;ie._removeData(t,"fxshow");for(e in h)ie.style(t,e,h[e])});for(r in h)a=L(f?m[r]:0,r,d),r in m||(m[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function M(t,e){var n,r,i,o,a;for(n in t)if(r=ie.camelCase(n),i=e[r],o=t[n],ie.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function O(t,e,n){var r,i,o=0,a=bn.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=fn||P(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),1>o&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:ie.extend({},e),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:fn||P(),duration:n.duration,tweens:[],createTween:function(e,n){var r=ie.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),c=l.props;for(M(c,l.opts.specialEasing);a>o;o++)if(r=bn[o].call(l,t,c,l.opts))return r;return ie.map(c,L,l),ie.isFunction(l.opts.start)&&l.opts.start.call(t,l),ie.fx.timer(ie.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function B(t,e,n,r){function i(s){var u;return o[s]=!0,ie.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=t===Wn;return i(e.dataTypes[0])||!o["*"]&&i("*")}function I(t,e){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&ie.extend(!0,t,n),t}function z(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||t.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function R(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function W(t,e,n,r){var i;if(ie.isArray(e))ie.each(e,function(e,i){n||Vn.test(t)?r(t,i):W(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==ie.type(e))r(t,e);else for(i in e)W(t+"["+i+"]",e[i],n,r)}function Q(){try{return new t.XMLHttpRequest}catch(e){}}function X(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function U(t){return ie.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var V=[],J=V.slice,G=V.concat,K=V.push,Y=V.indexOf,Z={},te=Z.toString,ee=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(t,e){return new ie.fn.init(t,e)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,ue=function(t,e){return e.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return J.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:J.call(this)},pushStack:function(t){var e=ie.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ie.each(this,t,e)},map:function(t){return this.pushStack(ie.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:V.sort,splice:V.splice},ie.extend=ie.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)t=a[r],n=i[r],a!==n&&(l&&n&&(ie.isPlainObject(n)||(e=ie.isArray(n)))?(e?(e=!1,o=t&&ie.isArray(t)?t:[]):o=t&&ie.isPlainObject(t)?t:{},a[r]=ie.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ie.type(t)},isArray:Array.isArray||function(t){return"array"===ie.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!ie.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ie.type(t)||t.nodeType||ie.isWindow(t))return!1;try{if(t.constructor&&!ee.call(t,"constructor")&&!ee.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(e in t)return ee.call(t,e);for(e in t);return void 0===e||ee.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[te.call(t)]||"object":typeof t},globalEval:function(e){e&&ie.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ae,"ms-").replace(se,ue)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,a=t.length,s=n(t);if(r){if(s)for(;a>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(s)for(;a>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(oe,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?ie.merge(r,"string"==typeof t?[t]:t):K.call(r,t)),r},inArray:function(t,e,n){var r;if(e){if(Y)return Y.call(e,t,n);for(r=e.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;)t[i++]=e[r++];if(n!==n)for(;void 0!==e[r];)t[i++]=e[r++];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;a>o;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,a=t.length,s=n(t),u=[];if(s)for(;a>o;o++)i=e(t[o],o,r),null!=i&&u.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&u.push(i);return G.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(i=t[e],e=t,t=i),ie.isFunction(t)?(n=J.call(arguments,2),r=function(){return t.apply(e||this,n.concat(J.call(arguments)))},r.guid=t.guid=t.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var le=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,r){var i,o,a,s,u,l,d,p,f,m;if((e?e.ownerDocument||e:B)!==D&&N(e),e=e||D,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!r&&F){if(11!==s&&(i=ye.exec(t)))if(a=i[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&O(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Y.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&w.getElementsByClassName)return Y.apply(n,e.getElementsByClassName(a)),n}if(w.qsa&&(!L||!L.test(t))){if(p=d=q,f=e,m=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(l=C(t),(d=e.getAttribute("id"))?p=d.replace(xe,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+h(l[u]);f=be.test(t)&&c(e.parentNode)||e,m=l.join(",")}if(m)try{return Y.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{d||e.removeAttribute("id")}}}return S(t.replace(ue,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[q]=!0,t}function i(t){var e=D.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)_.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=z++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,u,l=[I,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[q]||(e[q]={}),(s=u[r])&&s[0]===I&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=t(e,n,a))return!0}}}function f(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function m(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function g(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;u>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(a.push(o),l&&e.push(s));return a}function v(t,e,n,i,o,a){return i&&!i[q]&&(i=v(i)),o&&!o[q]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,h=[],p=[],f=a.length,v=r||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:g(v,h,t,s,u),b=n?o||(r?t:f||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||t){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?te(r,d):h[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(f,b.length):b),o?o(null,a,b,u):Y.apply(a,b)})}function y(t){for(var e,n,r,i=t.length,o=_.relative[t[0].type],a=o||_.relative[" "],s=o?1:0,u=p(function(t){return t===e},a,!0),l=p(function(t){return te(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==E)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];i>s;s++)if(n=_.relative[t[s].type])c=[p(f(c),n)];else{if(n=_.filter[t[s].type].apply(null,t[s].matches),n[q]){for(r=++s;i>r&&!_.relative[t[r].type];r++);return v(s>1&&f(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(t.slice(s,r)),i>r&&y(t=t.slice(r)),i>r&&h(t))}c.push(n)}return f(c)}function b(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,l){var c,d,h,p=0,f="0",m=r&&[],v=[],y=E,b=r||o&&_.find.TAG("*",l),x=I+=null==y?1:Math.random()||.1,w=b.length;for(l&&(E=a!==D&&a);f!==w&&null!=(c=b[f]);f++){if(o&&c){for(d=0;h=t[d++];)if(h(c,a,s)){u.push(c);break}l&&(I=x)}i&&((c=!h&&c)&&p--,r&&m.push(c))}if(p+=f,i&&f!==p){for(d=0;h=n[d++];)h(m,v,a,s);if(r){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=G.call(u));v=g(v)}Y.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&e.uniqueSort(u)}return l&&(I=x,E=y),m};return i?r(a):a}var x,w,_,$,k,C,T,S,E,j,A,N,D,P,F,L,H,M,O,q="sizzle"+1*new Date,B=t.document,I=0,z=0,R=n(),W=n(),Q=n(),X=function(t,e){return t===e&&(A=!0),0},U=1<<31,V={}.hasOwnProperty,J=[],G=J.pop,K=J.push,Y=J.push,Z=J.slice,te=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),pe=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},$e=function(){N()};try{Y.apply(J=Z.call(B.childNodes),B.childNodes),J[B.childNodes.length].nodeType}catch(ke){Y={apply:J.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},N=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:B;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,P=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",$e,!1):n.attachEvent&&n.attachEvent("onunload",$e)),F=!k(r),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(t){return P.appendChild(t).id=q,!r.getElementsByName||!r.getElementsByName(q).length}),w.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&F){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(we,_e);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(we,_e);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},_.find.CLASS=w.getElementsByClassName&&function(t,e){return F?e.getElementsByClassName(t):void 0},H=[],L=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(t){P.appendChild(t).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+q+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+q+"+*").length||L.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(w.matchesSelector=ve.test(M=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(t){w.disconnectedMatch=M.call(t,"div"),M.call(t,"[s!='']:x"),H.push("!=",ae)}),L=L.length&&new RegExp(L.join("|")),H=H.length&&new RegExp(H.join("|")),e=ve.test(P.compareDocumentPosition),O=e||ve.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===B&&O(B,t)?-1:e===r||e.ownerDocument===B&&O(B,e)?1:j?te(j,t)-te(j,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,u=[t],l=[e];if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:j?te(j,t)-te(j,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===B?-1:l[i]===B?1:0},r):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&N(t),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!F||H&&H.test(n)||L&&L.test(n)))try{var r=M.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&N(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&N(t);var n=_.attrHandle[e.toLowerCase()],r=n&&V.call(_.attrHandle,e.toLowerCase())?n(t,e,!F):void 0;return void 0!==r?r:w.attributes||!F?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(A=!w.detectDuplicates,j=!w.sortStable&&t.slice(0),t.sort(X),A){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return j=null,t},$=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=$(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=$(e);return n},_=e.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,_e),t[3]=(t[3]||t[4]||t[5]||"").replace(we,_e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return fe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,_e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=R[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&R(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,d,h,p,f,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(c=g[q]||(g[q]={}),l=c[t]||[],p=l[0]===I&&l[1],h=l[0]===I&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[I,p,h];break}}else if(y&&(l=(e[q]||(e[q]={}))[t])&&l[0]===I)h=l[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[q]||(d[q]={}))[t]=[I,h]),d!==e)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(t,n){var i,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[q]?o(n):o.length>1?(i=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=te(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=T(t.replace(ue,"$1"));return i[q]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(we,_e),function(e){return(e.textContent||e.innerText||$(e)).indexOf(t)>-1}}),lang:r(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(we,_e).toLowerCase(),function(e){var n;do if(n=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},_.pseudos.nth=_.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})_.pseudos[x]=u(x);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,C=e.tokenize=function(t,n){var r,i,o,a,s,u,l,c=W[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=_.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in _.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):W(t,u).slice(0)},T=e.compile=function(t,e){var n,r=[],i=[],o=Q[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=y(e[n]),o[q]?r.push(o):i.push(o);o=Q(t,b(i,r)),o.selector=t}return o},S=e.select=function(t,e,n,r){var i,o,a,s,u,l="function"==typeof t&&t,d=!r&&C(t=l.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===e.nodeType&&F&&_.relative[o[1].type]){if(e=(_.find.ID(a.matches[0].replace(we,_e),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=fe.needsContext.test(t)?0:o.length;i--&&(a=o[i],!_.relative[s=a.type]);)if((u=_.find[s])&&(r=u(a.matches[0].replace(we,_e),be.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&h(o),!t)return Y.apply(n,r),n;break}}return(l||T(t,d))(r,e,!F,n,be.test(t)&&c(e.parentNode)||e),n},w.sortStable=q.split("").sort(X).join("")===q,w.detectDuplicates=!!A,N(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;ie.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?ie.find.matchesSelector(r,t)?[r]:[]:ie.find.matches(t,ie.grep(e,function(t){return 1===t.nodeType}))},ie.fn.extend({find:function(t){var e,n=[],r=this,i=r.length;if("string"!=typeof t)return this.pushStack(ie(t).filter(function(){for(e=0;i>e;e++)if(ie.contains(r[e],this))return!0}));for(e=0;i>e;e++)ie.find(t,r[e],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ce.test(t)?ie(t):t||[],!1).length}});var pe,fe=t.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:me.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||pe).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ie?e[0]:e,ie.merge(this,ie.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:fe,!0)),de.test(n[1])&&ie.isPlainObject(e))for(n in e)ie.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(r=fe.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(t);this.length=1,this[0]=r}return this.context=fe,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ie.isFunction(t)?"undefined"!=typeof pe.ready?pe.ready(t):t(ie):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ie.makeArray(t,this))};ge.prototype=ie.fn,pe=ie(fe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(t,e,n){for(var r=[],i=t[e];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[e];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),ie.fn.extend({has:function(t){var e,n=ie(t,this),r=n.length;return this.filter(function(){for(e=0;r>e;e++)if(ie.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=ce.test(t)||"string"!=typeof t?ie(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(t){return t?"string"==typeof t?ie.inArray(this[0],ie(t)):ie.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ie.unique(ie.merge(this.get(),ie(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ie.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ie.dir(t,"parentNode")},parentsUntil:function(t,e,n){return ie.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return ie.dir(t,"nextSibling")},prevAll:function(t){return ie.dir(t,"previousSibling")},nextUntil:function(t,e,n){return ie.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return ie.dir(t,"previousSibling",n)},siblings:function(t){return ie.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ie.sibling(t.firstChild)},contents:function(t){return ie.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ie.merge([],t.childNodes)}},function(t,e){ie.fn[t]=function(n,r){var i=ie.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[t]||(i=ie.unique(i)),ve.test(t)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(t){t="string"==typeof t?xe[t]||o(t):ie.extend({},t);var e,n,r,i,a,s,u=[],l=!t.once&&[],c=function(o){for(n=t.memory&&o,r=!0,a=s||0,s=0,i=u.length,e=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(e){ie.each(e,function(e,n){var r=ie.type(n);"function"===r?t.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),e?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&ie.each(arguments,function(t,n){for(var r;(r=ie.inArray(n,u,r))>-1;)u.splice(r,1),e&&(i>=r&&i--,a>=r&&a--)}),this},has:function(t){return t?ie.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(t,n){return!u||r&&!l||(n=n||[],n=[t,n.slice?n.slice():n],e?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(t){var e=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ie.Deferred(function(n){ie.each(e,function(e,o){var a=ie.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&ie.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ie.extend(t,r):r}},i={};return r.pipe=r.then,ie.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=J.call(arguments),a=o.length,s=1!==a||t&&ie.isFunction(t.promise)?a:0,u=1===s?t:ie.Deferred(),l=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?J.call(arguments):i,r===e?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&ie.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,e)):--s;return s||u.resolveWith(r,o),u.promise()}});var we;ie.fn.ready=function(t){return ie.ready.promise().done(t),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ie.readyWait++:ie.ready(!0)},ready:function(t){if(t===!0?!--ie.readyWait:!ie.isReady){if(!fe.body)return setTimeout(ie.ready);ie.isReady=!0,t!==!0&&--ie.readyWait>0||(we.resolveWith(fe,[ie]),ie.fn.triggerHandler&&(ie(fe).triggerHandler("ready"),ie(fe).off("ready")))}}}),ie.ready.promise=function(e){if(!we)if(we=ie.Deferred(),"complete"===fe.readyState)setTimeout(ie.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{fe.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&fe.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(t){return setTimeout(i,50)}a(),ie.ready()}}()}return we.promise(e)};var _e,$e="undefined";for(_e in ie(ne))break;ne.ownLast="0"!==_e,ne.inlineBlockNeedsLayout=!1,ie(function(){var t,e,n,r;n=fe.getElementsByTagName("body")[0],n&&n.style&&(e=fe.createElement("div"),r=fe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),typeof e.style.zoom!==$e&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(r))}),function(){var t=fe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}t=null}(),ie.acceptData=function(t){var e=ie.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e};var ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ce=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ie.cache[t[ie.expando]]:t[ie.expando],!!t&&!l(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),ie.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ie.data(this,t)}):arguments.length>1?this.each(function(){ie.data(this,t,e)}):o?u(o,t,ie.data(o,t)):void 0},removeData:function(t){return this.each(function(){ie.removeData(this,t)})}}),ie.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=ie._data(t,e),n&&(!r||ie.isArray(n)?r=ie._data(t,e,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ie.queue(t,e),r=n.length,i=n.shift(),o=ie._queueHooks(t,e),a=function(){ie.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ie._data(t,n)||ie._data(t,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(t,e+"queue"),ie._removeData(t,n)})})}}),ie.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ie.queue(this[0],t):void 0===e?this:this.each(function(){var n=ie.queue(this,t,e);ie._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ie.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ie.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=ie._data(o[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ee=function(t,e){return t=e||t,"none"===ie.css(t,"display")||!ie.contains(t.ownerDocument,t)},je=ie.access=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(ie(t),n)})),e))for(;u>s;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o},Ae=/^(?:checkbox|radio)$/i;!function(){var t=fe.createElement("input"),e=fe.createElement("div"),n=fe.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===e.firstChild.nodeType,ne.tbody=!e.getElementsByTagName("tbody").length,ne.htmlSerialize=!!e.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),ne.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){ne.noCloneEvent=!1}),e.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(r){ne.deleteExpando=!1}}}(),function(){var e,n,r=fe.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(ne[e+"Bubbles"]=n in t)||(r.setAttribute(n,"t"),ne[e+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Ne=/^(?:input|select|textarea)$/i,De=/^key/,Pe=/^(?:mouse|pointer|contextmenu)|click/,Fe=/^(?:focusinfocus|focusoutblur)$/,Le=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,d,h,p,f,m,g=ie._data(t);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(t){return typeof ie===$e||t&&ie.event.triggered===t.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(be)||[""],s=e.length;s--;)o=Le.exec(e[s])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(l=ie.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:f.join(".")},u),(h=a[p])||(h=a[p]=[],h.delegateCount=0,l.setup&&l.setup.call(t,r,f,c)!==!1||(t.addEventListener?t.addEventListener(p,c,!1):t.attachEvent&&t.attachEvent("on"+p,c))),l.add&&(l.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,d):h.push(d),ie.event.global[p]=!0);t=null}},remove:function(t,e,n,r,i){var o,a,s,u,l,c,d,h,p,f,m,g=ie.hasData(t)&&ie._data(t);if(g&&(c=g.events)){for(e=(e||"").match(be)||[""],l=e.length;l--;)if(s=Le.exec(e[l])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,h=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=h.length;o--;)a=h[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(t,a));u&&!h.length&&(d.teardown&&d.teardown.call(t,f,g.handle)!==!1||ie.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(t,p+e[l],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(t,"events"))}},trigger:function(e,n,r,i){var o,a,s,u,l,c,d,h=[r||fe],p=ee.call(e,"type")?e.type:e,f=ee.call(e,"namespace")?e.namespace.split("."):[];if(s=c=r=r||fe,3!==r.nodeType&&8!==r.nodeType&&!Fe.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),a=p.indexOf(":")<0&&"on"+p,e=e[ie.expando]?e:new ie.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:ie.makeArray(n,[e]),l=ie.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!ie.isWindow(r)){for(u=l.delegateType||p,Fe.test(u+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),c=s;
c===(r.ownerDocument||fe)&&h.push(c.defaultView||c.parentWindow||t)}for(d=0;(s=h[d++])&&!e.isPropagationStopped();)e.type=d>1?u:l.bindType||p,o=(ie._data(s,"events")||{})[e.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(e.result=o.apply(s,n),e.result===!1&&e.preventDefault());if(e.type=p,!i&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(h.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=void 0,c&&(r[a]=c)}return e.result}},dispatch:function(t){t=ie.event.fix(t);var e,n,r,i,o,a=[],s=J.call(arguments),u=(ie._data(this,"events")||{})[t.type]||[],l=ie.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=ie.event.handlers.call(this,t,u),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(i=[],o=0;s>o;o++)r=e[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(u)>=0:ie.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[ie.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Pe.test(i)?this.mouseHooks:De.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new ie.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=o.srcElement||fe),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=t.target.ownerDocument||fe,i=r.documentElement,n=r.body,t.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ie.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=ie.extend(new ie.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,e):ie.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=fe.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var r="on"+e;t.detachEvent&&(typeof t[r]===$e&&(t[r]=null),t.detachEvent(r,n))},ie.Event=function(t,e){return this instanceof ie.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?h:p):this.type=t,e&&ie.extend(this,e),this.timeStamp=t&&t.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(t,e)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ie.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ie.nodeName(e,"input")||ie.nodeName(e,"button")?e.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ie.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Ne.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,t,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ne.test(e.nodeName)&&!ie._data(e,"changeBubbles")&&(ie.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ie.event.simulate("change",this.parentNode,t,!0)}),ie._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Ne.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ie.event.simulate(e,t.target,ie.event.fix(t),!0)};ie.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,e);i||r.addEventListener(t,n,!0),ie._data(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,e)-1;i?ie._data(r,e,i):(r.removeEventListener(t,n,!0),ie._removeData(r,e))}}}),ie.fn.extend({on:function(t,e,n,r,i){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(t){return ie().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ie(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ie.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ie.event.trigger(t,e,n,!0):void 0}});var He="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Me=/ jQuery\d+="(?:null|\d+)"/g,Oe=new RegExp("<(?:"+He+")[\\s/>]","i"),qe=/^\s+/,Be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,ze=/<tbody/i,Re=/<|&#?\w+;/,We=/<(?:script|style|link)/i,Qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Xe=/^$|\/(?:java|ecma)script/i,Ue=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ge=m(fe),Ke=Ge.appendChild(fe.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,ie.extend({clone:function(t,e,n){var r,i,o,a,s,u=ie.contains(t.ownerDocument,t);if(ne.html5Clone||ie.isXMLDoc(t)||!Oe.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Ke.innerHTML=t.outerHTML,Ke.removeChild(o=Ke.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ie.isXMLDoc(t)))for(r=g(o),s=g(t),a=0;null!=(i=s[a]);++a)r[a]&&$(i,r[a]);if(e)if(n)for(s=s||g(t),r=r||g(o),a=0;null!=(i=s[a]);a++)_(i,r[a]);else _(t,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(t,"script")),r=s=i=null,o},buildFragment:function(t,e,n,r){for(var i,o,a,s,u,l,c,d=t.length,h=m(e),p=[],f=0;d>f;f++)if(o=t[f],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(Re.test(o)){for(s=s||h.appendChild(e.createElement("div")),u=(Ie.exec(o)||["",""])[1].toLowerCase(),c=Je[u]||Je._default,s.innerHTML=c[1]+o.replace(Be,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&qe.test(o)&&p.push(e.createTextNode(qe.exec(o)[0])),!ne.tbody)for(o="table"!==u||ze.test(o)?"<table>"!==c[1]||ze.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else p.push(e.createTextNode(o));for(s&&h.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),v),f=0;o=p[f++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(h.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Xe.test(o.type||"")&&n.push(o);return s=null,h},cleanData:function(t,e){for(var n,r,i,o,a=0,s=ie.expando,u=ie.cache,l=ne.deleteExpando,c=ie.event.special;null!=(n=t[a]);a++)if((e||ie.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==$e?n.removeAttribute(s):n[s]=null,V.push(i))}}}),ie.fn.extend({text:function(t){return je(this,function(t){return void 0===t?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?ie.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(e&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ie.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ie.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ie.clone(this,t,e)})},html:function(t){return je(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Me,""):void 0;if(!("string"!=typeof t||We.test(t)||!ne.htmlSerialize&&Oe.test(t)||!ne.leadingWhitespace&&qe.test(t)||Je[(Ie.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Be,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(ie.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,ie.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=G.apply([],t);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,h=t[0],p=ie.isFunction(h);if(p||l>1&&"string"==typeof h&&!ne.checkClone&&Qe.test(h))return this.each(function(n){var r=c.eq(n);p&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)});if(l&&(s=ie.buildFragment(t,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),e.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),u=0;i>u;u++)r=o[u],Xe.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Ve,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ie.fn[t]=function(t){for(var n,r=0,i=[],o=ie(t),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ie(o[r])[e](n),K.apply(i,n.get());return this.pushStack(i)}});var Ye,Ze={};!function(){var t;ne.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,r;return n=fe.getElementsByTagName("body")[0],n&&n.style?(e=fe.createElement("div"),r=fe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),typeof e.style.zoom!==$e&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(fe.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(r),t):void 0}}();var tn,en,nn=/^margin/,rn=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),on=/^(top|right|bottom|left)$/;t.getComputedStyle?(tn=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},en=function(t,e,n){var r,i,o,a,s=t.style;return n=n||tn(t),a=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==a||ie.contains(t.ownerDocument,t)||(a=ie.style(t,e)),rn.test(a)&&nn.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):fe.documentElement.currentStyle&&(tn=function(t){return t.currentStyle},en=function(t,e,n){var r,i,o,a,s=t.style;return n=n||tn(t),a=n?n[e]:void 0,null==a&&s&&s[e]&&(a=s[e]),rn.test(a)&&!on.test(e)&&(r=s.left,i=t.runtimeStyle,o=i&&i.left,o&&(i.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function e(){var e,n,r,i;n=fe.getElementsByTagName("body")[0],n&&n.style&&(e=fe.createElement("div"),r=fe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,a="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,i=e.appendChild(fe.createElement("div")),i.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",e.style.width="1px",u=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight),e.removeChild(i)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=e.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=fe.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&e(),s},boxSizingReliable:function(){return null==a&&e(),a},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==u&&e(),u}}))}(),ie.swap=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i};var an=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,un=/^(none|table(?!-c[ea]).+)/,ln=new RegExp("^("+Te+")(.*)$","i"),cn=new RegExp("^([+-])=("+Te+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=en(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=ie.camelCase(e),u=t.style;if(e=ie.cssProps[s]||(ie.cssProps[s]=S(u,s)),a=ie.cssHooks[e]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e];if(o=typeof n,"string"===o&&(i=cn.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(t,n,r)))))try{u[e]=n}catch(l){}}},css:function(t,e,n,r){var i,o,a,s=ie.camelCase(e);return e=ie.cssProps[s]||(ie.cssProps[s]=S(t.style,s)),a=ie.cssHooks[e]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=en(t,e,r)),"normal"===o&&e in hn&&(o=hn[e]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(t,e){ie.cssHooks[e]={get:function(t,n,r){return n?un.test(ie.css(t,"display"))&&0===t.offsetWidth?ie.swap(t,dn,function(){return N(t,e,r)}):N(t,e,r):void 0},set:function(t,n,r){var i=r&&tn(t);return j(t,n,r?A(t,e,r,ne.boxSizing&&"border-box"===ie.css(t,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(t,e){return sn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,r=t.currentStyle,i=ie.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ie.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||r&&!r.filter)||(n.filter=an.test(o)?o.replace(an,i):o+" "+i)}}),ie.cssHooks.marginRight=T(ne.reliableMarginRight,function(t,e){return e?ie.swap(t,{display:"inline-block"},en,[t,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(t,e){ie.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Se[r]+e]=o[r]||o[r-2]||o[0];return i}},nn.test(t)||(ie.cssHooks[t+e].set=j)}),ie.fn.extend({css:function(t,e){return je(this,function(t,e,n){var r,i,o={},a=0;if(ie.isArray(e)){for(r=tn(t),i=e.length;i>a;a++)o[e[a]]=ie.css(t,e[a],!1,r);return o}return void 0!==n?ie.style(t,e,n):ie.css(t,e)},t,e,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ee(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=D,D.prototype={constructor:D,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var t=D.propHooks[this.prop];return t&&t.get?t.get(this):D.propHooks._default.get(this)},run:function(t){var e,n=D.propHooks[this.prop];return this.pos=e=this.options.duration?ie.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ie.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ie.fx.step[t.prop]?ie.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ie.cssProps[t.prop]]||ie.cssHooks[t.prop])?ie.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ie.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ie.fx=D.prototype.init,ie.fx.step={};var fn,mn,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[H],xn={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=vn.exec(e),o=i&&i[3]||(ie.cssNumber[t]?"":"px"),a=(ie.cssNumber[t]||"px"!==o&&+r)&&vn.exec(ie.css(n.elem,t)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,t,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(O,{tweener:function(t,e){ie.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],xn[n]=xn[n]||[],xn[n].unshift(e)},prefilter:function(t,e){e?bn.unshift(t):bn.push(t)}}),ie.speed=function(t,e,n){var r=t&&"object"==typeof t?ie.extend({},t):{complete:n||!n&&e||ie.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ie.isFunction(e)&&e};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Ee).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=ie.isEmptyObject(t),o=ie.speed(e,n,r),a=function(){var e=O(this,ie.extend({},t),o);(i||ie._data(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&yn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&ie.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ie._data(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(t,e){var n=ie.fn[e];ie.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(F(e,!0),t,r,i)}}),ie.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ie.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),ie.timers=[],ie.fx.tick=function(){var t,e=ie.timers,n=0;for(fn=ie.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||ie.fx.stop(),fn=void 0},ie.fx.timer=function(t){ie.timers.push(t),t()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){mn||(mn=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(mn),mn=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(t,e){return t=ie.fx?ie.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t,e,n,r,i;e=fe.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=e.getElementsByTagName("a")[0],n=fe.createElement("select"),i=n.appendChild(fe.createElement("option")),t=e.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==e.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!t.value,ne.optSelected=i.selected,ne.enctype=!!fe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,t=fe.createElement("input"),t.setAttribute("value",""),ne.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ne.radioValue="t"===t.value}();var wn=/\r/g;ie.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,ie(this).val()):t,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(t){return null==t?"":t+""})),e=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(wn,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(t){var e=ie.find.attr(t,"value");return null!=e?e:ie.trim(ie.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(e=ie(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=ie.makeArray(e),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(t.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(t,e){return ie.isArray(e)?t.checked=ie.inArray(ie(t).val(),e)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var _n,$n,kn=ie.expr.attrHandle,Cn=/^(?:checked|selected)$/i,Tn=ne.getSetAttribute,Sn=ne.input;ie.fn.extend({attr:function(t,e){return je(this,ie.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ie.removeAttr(this,t)})}}),ie.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===$e?ie.prop(t,e,n):(1===o&&ie.isXMLDoc(t)||(e=e.toLowerCase(),r=ie.attrHooks[e]||(ie.expr.match.bool.test(e)?$n:_n)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ie.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void ie.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(be);if(o&&1===t.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?Sn&&Tn||!Cn.test(n)?t[r]=!1:t[ie.camelCase("default-"+n)]=t[r]=!1:ie.attr(t,n,""),t.removeAttribute(Tn?n:r)},attrHooks:{type:{set:function(t,e){if(!ne.radioValue&&"radio"===e&&ie.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),$n={set:function(t,e,n){return e===!1?ie.removeAttr(t,n):Sn&&Tn||!Cn.test(n)?t.setAttribute(!Tn&&ie.propFix[n]||n,n):t[ie.camelCase("default-"+n)]=t[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(t,e){var n=kn[e]||ie.find.attr;kn[e]=Sn&&Tn||!Cn.test(e)?function(t,e,r){var i,o;return r||(o=kn[e],kn[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,kn[e]=o),i}:function(t,e,n){return n?void 0:t[ie.camelCase("default-"+e)]?e.toLowerCase():null}}),Sn&&Tn||(ie.attrHooks.value={set:function(t,e,n){return ie.nodeName(t,"input")?void(t.defaultValue=e):_n&&_n.set(t,e,n)}}),Tn||(_n={set:function(t,e,n){var r=t.getAttributeNode(n);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(n)),r.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},kn.id=kn.name=kn.coords=function(t,e,n){var r;return n?void 0:(r=t.getAttributeNode(e))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:_n.set},ie.attrHooks.contenteditable={set:function(t,e,n){_n.set(t,""===e?!1:e,n)}},ie.each(["width","height"],function(t,e){ie.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var En=/^(?:input|select|textarea|button|object)$/i,jn=/^(?:a|area)$/i;ie.fn.extend({prop:function(t,e){return je(this,ie.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ie.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(t),o&&(e=ie.propFix[e]||e,i=ie.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=ie.find.attr(t,"tabindex");return e?parseInt(e,10):En.test(t.nodeName)||jn.test(t.nodeName)&&t.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(t,e){ie.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var An=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(t){var e,n,r,i,o,a,s=0,u=this.length,l="string"==typeof t&&t;if(ie.isFunction(t))return this.each(function(e){ie(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof t&&t;if(ie.isFunction(t))return this.each(function(e){ie(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(ie.isFunction(t)?function(n){ie(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=ie(this),o=t.match(be)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);
else(n===$e||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(An," ").indexOf(e)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ie.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ie.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Nn=ie.now(),Dn=/\?/,Pn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,r=null,i=ie.trim(e+"");return i&&!ie.trim(i.replace(Pn,function(t,e,i,o){return n&&e&&(r=0),0===r?t:(n=i||e,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+e)},ie.parseXML=function(e){var n,r;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+e),n};var Fn,Ln,Hn=/#.*$/,Mn=/([?&])_=[^&]*/,On=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,qn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bn=/^(?:GET|HEAD)$/,In=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Rn={},Wn={},Qn="*/".concat("*");try{Ln=location.href}catch(Xn){Ln=fe.createElement("a"),Ln.href="",Ln=Ln.href}Fn=zn.exec(Ln.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ln,type:"GET",isLocal:qn.test(Fn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?I(I(t,ie.ajaxSettings),e):I(ie.ajaxSettings,t)},ajaxPrefilter:q(Rn),ajaxTransport:q(Wn),ajax:function(t,e){function n(t,e,n,r){var i,c,v,y,x,_=e;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=t>0?4:0,i=t>=200&&300>t||304===t,n&&(y=z(d,w,n)),y=R(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===t||"HEAD"===d.type?_="nocontent":304===t?_="notmodified":(_=y.state,c=y.data,v=y.error,i=!v)):(v=_,(t||!_)&&(_="error",0>t&&(t=0))),w.status=t,w.statusText=(e||_)+"",i?f.resolveWith(h,[c,_,w]):f.rejectWith(h,[w,_,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(h,[w,_]),u&&(p.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,u,l,c,d=ie.ajaxSetup({},e),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?ie(h):ie.event,f=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!c)for(c={};e=On.exec(a);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)g[e]=[g[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return l&&l.abort(e),n(0,e),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||Ln)+"").replace(Hn,"").replace(In,Fn[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(r=zn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Fn[1]&&r[2]===Fn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Fn[3]||("http:"===Fn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),B(Rn,d,e,w),2===b)return w;u=ie.event&&d.global,u&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Bn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Dn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Mn.test(o)?o.replace(Mn,"$1_="+Nn++):o+(Dn.test(o)?"&":"?")+"_="+Nn++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Qn+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(h,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=B(Wn,d,e,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(_){if(!(2>b))throw _;n(-1,_)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return ie.get(t,e,n,"json")},getScript:function(t,e){return ie.get(t,void 0,e,"script")}}),ie.each(["get","post"],function(t,e){ie[e]=function(t,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),ie._evalUrl=function(t){return ie.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(t){if(ie.isFunction(t))return this.each(function(e){ie(this).wrapAll(t.call(this,e))});if(this[0]){var e=ie(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(ie.isFunction(t)?function(e){ie(this).wrapInner(t.call(this,e))}:function(){var e=ie(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ie.isFunction(t);return this.each(function(n){ie(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||ie.css(t,"display"))},ie.expr.filters.visible=function(t){return!ie.expr.filters.hidden(t)};var Un=/%20/g,Vn=/\[\]$/,Jn=/\r?\n/g,Gn=/^(?:submit|button|image|reset|file)$/i,Kn=/^(?:input|select|textarea|keygen)/i;ie.param=function(t,e){var n,r=[],i=function(t,e){e=ie.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(t)||t.jquery&&!ie.isPlainObject(t))ie.each(t,function(){i(this.name,this.value)});else for(n in t)W(n,t[n],e,i);return r.join("&").replace(Un,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ie.prop(this,"elements");return t?ie.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ie(this).is(":disabled")&&Kn.test(this.nodeName)&&!Gn.test(t)&&(this.checked||!Ae.test(t))}).map(function(t,e){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(t){return{name:e.name,value:t.replace(Jn,"\r\n")}}):{name:e.name,value:n.replace(Jn,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Q()||X()}:Q;var Yn=0,Zn={},tr=ie.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Zn)Zn[t](void 0,!0)}),ne.cors=!!tr&&"withCredentials"in tr,tr=ne.ajax=!!tr,tr&&ie.ajaxTransport(function(t){if(!t.crossDomain||ne.cors){var e;return{send:function(n,r){var i,o=t.xhr(),a=++Yn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(t.hasContent&&t.data||null),e=function(n,i){var s,u,l;if(e&&(i||4===o.readyState))if(delete Zn[a],e=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Zn[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ie.globalEval(t),t}}}),ie.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ie.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=fe.head||ie("head")[0]||fe.documentElement;return{send:function(r,i){e=fe.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||i(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var er=[],nr=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=er.pop()||ie.expando+"_"+Nn++;return this[t]=!0,t}}),ie.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=e.jsonp!==!1&&(nr.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nr.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=ie.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nr,"$1"+i):e.jsonp!==!1&&(e.url+=(Dn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,er.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ie.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||fe;var r=de.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=ie.buildFragment([t],e,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var rr=ie.fn.load;ie.fn.load=function(t,e,n){if("string"!=typeof t&&rr)return rr.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>=0&&(r=ie.trim(t.slice(s,t.length)),t=t.slice(0,s)),ie.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&ie.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){a.each(n,i||[t.responseText,e,t])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ie.fn[e]=function(t){return this.on(e,t)}}),ie.expr.filters.animated=function(t){return ie.grep(ie.timers,function(e){return t===e.elem}).length};var ir=t.document.documentElement;ie.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l,c=ie.css(t,"position"),d=ie(t),h={};"static"===c&&(t.style.position="relative"),s=d.offset(),o=ie.css(t,"top"),u=ie.css(t,"left"),l=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ie.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):d.css(h)}},ie.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ie.offset.setOffset(this,t,e)});var e,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return e=o.documentElement,ie.contains(e,i)?(typeof i.getBoundingClientRect!==$e&&(r=i.getBoundingClientRect()),n=U(o),{top:r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):r},position:function(){if(this[0]){var t,e,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ie.nodeName(t[0],"html")||(n=t.offset()),n.top+=ie.css(t[0],"borderTopWidth",!0),n.left+=ie.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ie.css(r,"marginTop",!0),left:e.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||ir;t&&!ie.nodeName(t,"html")&&"static"===ie.css(t,"position");)t=t.offsetParent;return t||ir})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ie.fn[t]=function(r){return je(this,function(t,r,i){var o=U(t);return void 0===i?o?e in o?o[e]:o.document.documentElement[r]:t[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):t[r]=i)},t,r,arguments.length,null)}}),ie.each(["top","left"],function(t,e){ie.cssHooks[e]=T(ne.pixelPosition,function(t,n){return n?(n=en(t,e),rn.test(n)?ie(t).position()[e]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(t,e){ie.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return je(this,function(e,n,r){var i;return ie.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?ie.css(e,n,a):ie.style(e,n,r,a)},e,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var or=t.jQuery,ar=t.$;return ie.noConflict=function(e){return t.$===ie&&(t.$=ar),e&&t.jQuery===ie&&(t.jQuery=or),ie},typeof e===$e&&(t.jQuery=t.$=ie),ie}),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,r=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)},fire:function(e,n,r){var i=t.Event(n);return e.trigger(i,r),i.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},handleRemote:function(r){var i,o,a,s,u,l;if(n.fire(r,"ajax:before")){if(s=r.data("with-credentials")||null,u=r.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,r.is("form")){i=r.attr("method"),o=r.attr("action"),a=r.serializeArray();var c=r.data("ujs:submit-button");c&&(a.push(c),r.data("ujs:submit-button",null))}else r.is(n.inputChangeSelector)?(i=r.data("method"),o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(i=r.data("method")||"get",o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):(i=r.data("method"),o=n.href(r),a=r.data("params")||null);return l={type:i||"GET",data:a,dataType:u,beforeSend:function(t,i){return i.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(r,"ajax:beforeSend",[t,i])?void r.trigger("ajax:send",t):!1},success:function(t,e,n){r.trigger("ajax:success",[t,e,n])},complete:function(t,e){r.trigger("ajax:complete",[t,e])},error:function(t,e,n){r.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(o)},s&&(l.xhrFields={withCredentials:s}),o&&(l.url=o),n.ajax(l)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!n.protocol||!n.host||e.protocol+"//"+e.host!=n.protocol+"//"+n.host}catch(r){return!0}},handleMethod:function(r){var i=n.href(r),o=r.data("method"),a=r.attr("target"),s=t("meta[name=csrf-token]").attr("content"),u=t("meta[name=csrf-param]").attr("content"),l=t('<form method="post" action="'+i+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';u===e||s===e||n.isCrossDomain(i)||(c+='<input name="'+u+'" value="'+s+'" type="hidden" />'),a&&l.attr("target",a),l.hide().append(c).appendTo("body"),l.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,r;n=t.is("button")?"html":"val",r=t.data("disable-with"),t.data("ujs:enable-with",t[n]()),r!==e&&t[n](r),t.prop("disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,r=t.data("confirm"),i=!1;return r?(n.fire(t,"confirm")&&(i=n.confirm(r),e=n.fire(t,"confirm:complete",[i])),i&&e):!0},blankInputs:function(e,n,r){var i,o,a=t(),s=n||"input,textarea",u=e.find(s);return u.each(function(){if(i=t(this),o=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):i.val(),!o==!r){if(i.is("input[type=radio]")&&u.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;a=a.add(i)}}),a.length?a:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var r=t.data("disable-with");t.data("ujs:enable-with",t.html()),r!==e&&t.html(r),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(r,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,r){t.crossDomain||n.CSRFProtection(r)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableElement(e)})}),r.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),r.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(t(this))}),r.delegate(n.linkClickSelector,"click.rails",function(r){var i=t(this),o=i.data("method"),a=i.data("params"),s=r.metaKey||r.ctrlKey;if(!n.allowAction(i))return n.stopEverything(r);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),i.data("remote")!==e){if(s&&(!o||"GET"===o)&&!a)return!0;var u=n.handleRemote(i);return u===!1?n.enableElement(i):u.fail(function(){n.enableElement(i)}),!1}return o?(n.handleMethod(i),!1):void 0}),r.delegate(n.buttonClickSelector,"click.rails",function(e){var r=t(this);if(!n.allowAction(r))return n.stopEverything(e);r.is(n.buttonDisableSelector)&&n.disableFormElement(r);var i=n.handleRemote(r);return i===!1?n.enableFormElement(r):i.fail(function(){n.enableFormElement(r)}),!1}),r.delegate(n.inputChangeSelector,"change.rails",function(e){var r=t(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(e)}),r.delegate(n.formSubmitSelector,"submit.rails",function(r){var i,o,a=t(this),s=a.data("remote")!==e;if(!n.allowAction(a))return n.stopEverything(r);if(a.attr("novalidate")==e&&(i=n.blankInputs(a,n.requiredInputSelector),i&&n.fire(a,"ajax:aborted:required",[i])))return n.stopEverything(r);if(s){if(o=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var u=n.fire(a,"ajax:aborted:file",[o]);return u||setTimeout(function(){n.enableFormElements(a)},13),u}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),r.delegate(n.formInputClickSelector,"click.rails",function(e){var r=t(this);if(!n.allowAction(r))return n.stopEverything(e);var i=r.attr("name"),o=i?{name:i,value:r.val()}:null;r.closest("form").data("ujs:submit-button",o)}),r.delegate(n.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),r.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),/*!
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright 2011, Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
function(t){function e(e,n,r,i){var o={data:i||0===i||i===!1?i:n?n.data:{},_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:l,nest:c,wrap:d,html:h,update:p};return e&&t.extend(o,e,{nodes:[],parent:n}),r&&(o.tmpl=r,o._ctnt=o._ctnt||o.tmpl(t,o),o.key=++w,($.length?b:y)[w]=o),o}function n(e,i,o){var a,s=o?t.map(o,function(t){return"string"==typeof t?e.key?t.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+g+'="'+e.key+'" $2'):t:n(t,e,t._ctnt)}):e;return i?s:(s=s.join(""),s.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(e,n,i,o){a=t(i).get(),u(a),n&&(a=r(n).concat(a)),o&&(a=a.concat(r(o)))}),a?a:r(s))}function r(e){var n=document.createElement("div");return n.innerHTML=e,t.makeArray(n.childNodes)}function i(e){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+t.trim(e).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(e,n,r,i,o,s,u){var l,c,d,h=t.tmpl.tag[r];if(!h)throw"Unknown template tag: "+r;return l=h._default||[],s&&!/\w$/.test(o)&&(o+=s,s=""),o?(o=a(o),u=u?","+a(u)+")":s?")":"",c=s?o.indexOf(".")>-1?o+a(s):"("+o+").call($item"+u:o,d=s?c:"(typeof("+o+")==='function'?("+o+").call($item):("+o+"))"):d=c=l.$1||"null",i=a(i),"');"+h[n?"close":"open"].split("$notnull_1").join(o?"typeof("+o+")!=='undefined' && ("+o+")!=null":"true").split("$1a").join(d).split("$1").join(c).split("$2").join(i||l.$2||"")+"__.push('"})+"');}return __;")}function o(e,r){e._wrap=n(e,!0,t.isArray(r)?r:[v.test(r)?r:t(r).html()]).join("")}function a(t){return t?t.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function s(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function u(n){function r(n){function r(t){t+=l,a=c[t]=c[t]||e(a,y[a.parent.key+l]||a.parent)}var i,o,a,s,u=n;if(s=n.getAttribute(g)){for(;u.parentNode&&1===(u=u.parentNode).nodeType&&!(i=u.getAttribute(g)););i!==s&&(u=u.parentNode?11===u.nodeType?0:u.getAttribute(g)||0:0,(a=y[s])||(a=b[s],a=e(a,y[u]||b[u]),a.key=++w,y[w]=a),_&&r(s)),n.removeAttribute(g)}else _&&(a=t.data(n,"tmplItem"))&&(r(a.key),y[a.key]=a,u=t.data(n.parentNode,"tmplItem"),u=u?u.key:0);if(a){for(o=a;o&&o.key!=u;)o.nodes.push(n),o=o.parent;delete a._ctnt,delete a._wrap,t.data(n,"tmplItem",a)}}var i,o,a,s,u,l="_"+_,c={};for(a=0,s=n.length;s>a;a++)if(1===(i=n[a]).nodeType){for(o=i.getElementsByTagName("*"),u=o.length-1;u>=0;u--)r(o[u]);r(i)}}function l(t,e,n,r){return t?void $.push({_:t,tmpl:e,item:this,data:n,options:r}):$.pop()}function c(e,n,r){return t.tmpl(t.template(e),n,r,this)}function d(e,n){var r=e.options||{};return r.wrapped=n,t.tmpl(t.template(e.tmpl),e.data,r,e.item)}function h(e,n){var r=this._wrap;return t.map(t(t.isArray(r)?r.join(""):r).filter(e||"*"),function(t){return n?t.innerText||t.textContent:t.outerHTML||s(t)})}function p(){var e=this.nodes;t.tmpl(null,null,null,this).insertBefore(e[0]),t(e).remove()}var f,m=t.fn.domManip,g="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,y={},b={},x={key:0,data:{}},w=0,_=0,$=[];t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,n){t.fn[e]=function(r){var i,o,a,s,u=[],l=t(r),c=1===this.length&&this[0].parentNode;if(f=y||{},c&&11===c.nodeType&&1===c.childNodes.length&&1===l.length)l[n](this[0]),u=this;else{for(o=0,a=l.length;a>o;o++)_=o,i=(o>0?this.clone(!0):this).get(),t(l[o])[n](i),u=u.concat(i);_=0,u=this.pushStack(u,e,l.selector)}return s=f,f=null,t.tmpl.complete(s),u}}),t.fn.extend({tmpl:function(e,n,r){return t.tmpl(this[0],e,n,r)},tmplItem:function(){return t.tmplItem(this[0])},template:function(e){return t.template(e,this[0])},domManip:function(e,n,r){if(e[0]&&t.isArray(e[0])){for(var i,o=t.makeArray(arguments),a=e[0],s=a.length,u=0;s>u&&!(i=t.data(a[u++],"tmplItem")););i&&_&&(o[2]=function(e){t.tmpl.afterManip(this,e,r)}),m.apply(this,o)}else m.apply(this,arguments);return _=0,f||t.tmpl.complete(y),this}}),t.extend({tmpl:function(r,i,a,s){var u,l=!s;if(l)s=x,r=t.template[r]||t.template(null,r),b={};else if(!r)return r=s.tmpl,y[s.key]=s,s.nodes=[],s.wrapped&&o(s,s.wrapped),t(n(s,null,s.tmpl(t,s)));return r?("function"==typeof i&&(i=i.call(s||{})),a&&a.wrapped&&o(a,a.wrapped),u=t.isArray(i)?t.map(i,function(t){return t?e(a,s,r,t):null}):[e(a,s,r,i)],l?t(n(s,null,u)):u):[]},tmplItem:function(e){var n;for(e instanceof t&&(e=e[0]);e&&1===e.nodeType&&!(n=t.data(e,"tmplItem"))&&(e=e.parentNode););return n||x},template:function(e,n){return n?("string"==typeof n?n=i(n):n instanceof t&&(n=n[0]||{}),n.nodeType&&(n=t.data(n,"tmpl")||t.data(n,"tmpl",i(n.innerHTML))),"string"==typeof e?t.template[e]=n:n):e?"string"!=typeof e?t.template(null,e):t.template[e]||t.template(null,v.test(e)?e:t(e)):null},encode:function(t){return(""+t).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),t.extend(t.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){y={}},afterManip:function(e,n,r){var i=11===n.nodeType?t.makeArray(n.childNodes):1===n.nodeType?[n]:[];r.call(e,n),u(i),_++}})}(jQuery),/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.7.2
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.com/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
function(t){function e(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function n(t){return"[object Array]"===String(Object.prototype.toString.call(t))}function r(e,r){var i,o,a={};if(n(r))for(i=0,o=r.length;o>i;i++)a[r[i]]=!0;else a[r]=!0;for(i=0,o=e.length;o>i;i++)a[e[i]]!==t&&(e.splice(i,1),o--,i--);return e}function i(t){return encodeURIComponent(t).replace(/[!'()*]/g,escape)}var o="undefined"!=typeof module&&module.exports,a=function(t){return o?require("./"+t):window[t]},s=a("punycode"),u=a("IPv6"),l=a("SecondLevelDomains"),c=function(e,n){return this instanceof c?(e===t&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),n!==t?this.absoluteTo(n):this):new c(e,n)},d=c.prototype;c.idn_expression=/[^a-z0-9\.-]/i,c.punycode_expression=/(xn--)/i,c.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,c.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/gi,c.defaultPorts={http:"80",https:"443",ftp:"21"},c.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,c.encode=i,c.decode=decodeURIComponent,c.iso8859=function(){c.encode=escape,c.decode=unescape},c.unicode=function(){c.encode=i,c.decode=decodeURIComponent},c.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},c.encodeQuery=function(t){return c.encode(t+"").replace(/%20/g,"+")},c.decodeQuery=function(t){return c.decode((t+"").replace(/\+/g,"%20"))},c.recodePath=function(t){for(var e=(t+"").split("/"),n=0,r=e.length;r>n;n++)e[n]=c.encodePathSegment(c.decode(e[n]));return e.join("/")},c.decodePath=function(t){for(var e=(t+"").split("/"),n=0,r=e.length;r>n;n++)e[n]=c.decodePathSegment(e[n]);return e.join("/")};var h,p={encode:"encode",decode:"decode"},f=function(t,e){return function(n){return c[e](n+"").replace(c.characters[t][e].expression,function(n){return c.characters[t][e].map[n]})}};for(h in p)c[h+"PathSegment"]=f("pathname",p[h]);c.encodeReserved=f("reserved","encode"),c.parse=function(t){var e,n={};return e=t.indexOf("#"),e>-1&&(n.fragment=t.substring(e+1)||null,t=t.substring(0,e)),e=t.indexOf("?"),e>-1&&(n.query=t.substring(e+1)||null,t=t.substring(0,e)),"//"===t.substring(0,2)?(n.protocol="",t=t.substring(2),t=c.parseAuthority(t,n)):(e=t.indexOf(":"),e>-1&&(n.protocol=t.substring(0,e),"//"===t.substring(e+1,e+3)?(t=t.substring(e+3),t=c.parseAuthority(t,n)):(t=t.substring(e+1),n.urn=!0))),n.path=t,n},c.parseHost=function(t,e){var n,r=t.indexOf("/");if(-1===r&&(r=t.length),"["===t[0]){var i=t.indexOf("]");e.hostname=t.substring(1,i)||null,e.port=t.substring(i+2,r)||null}else t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,r)||null,e.port=null):(n=t.substring(0,r).split(":"),e.hostname=n[0]||null,e.port=n[1]||null);return e.hostname&&"/"!==t.substring(r)[0]&&(r++,t="/"+t),t.substring(r)||"/"},c.parseAuthority=function(t,e){return t=c.parseUserinfo(t,e),c.parseHost(t,e)},c.parseUserinfo=function(t,e){var n,r=t.indexOf("@"),i=t.indexOf("/");return r>-1&&(-1===i||i>r)?(n=t.substring(0,r).split(":"),e.username=n[0]?c.decode(n[0]):null,e.password=n[1]?c.decode(n[1]):null,t=t.substring(r+1)):(e.username=null,e.password=null),t},c.parseQuery=function(t){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var e={},n=t.split("&"),r=n.length,i=0;r>i;i++){var o=n[i].split("="),a=c.decodeQuery(o.shift()),s=o.length?c.decodeQuery(o.join("=")):null;e[a]?("string"==typeof e[a]&&(e[a]=[e[a]]),e[a].push(s)):e[a]=s}return e},c.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=c.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path[0]&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&(e+="#"+t.fragment),e},c.buildHost=function(t){var e="";return t.hostname?(c.ip6_expression.test(t.hostname)?e+=t.port?"["+t.hostname+"]:"+t.port:t.hostname:(e+=t.hostname,t.port&&(e+=":"+t.port)),e):""},c.buildAuthority=function(t){return c.buildUserinfo(t)+c.buildHost(t)},c.buildUserinfo=function(t){var e="";return t.username&&(e+=c.encode(t.username),t.password&&(e+=":"+c.encode(t.password)),e+="@"),e},c.buildQuery=function(e,r){var i="";for(var o in e)if(Object.hasOwnProperty.call(e,o)&&o)if(n(e[o]))for(var a={},s=0,u=e[o].length;u>s;s++)e[o][s]!==t&&a[e[o][s]+""]===t&&(i+="&"+c.buildQueryParameter(o,e[o][s]),r!==!0&&(a[e[o][s]+""]=!0));else e[o]!==t&&(i+="&"+c.buildQueryParameter(o,e[o]));return i.substring(1)},c.buildQueryParameter=function(t,e){return c.encodeQuery(t)+(null!==e?"="+c.encodeQuery(e):"")},c.addQuery=function(e,r,i){if("object"==typeof r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&c.addQuery(e,o,r[o]);else{if("string"!=typeof r)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(e[r]===t)return void(e[r]=i);"string"==typeof e[r]&&(e[r]=[e[r]]),n(i)||(i=[i]),e[r]=e[r].concat(i)}},c.removeQuery=function(e,i,o){if(n(i))for(var a=0,s=i.length;s>a;a++)e[i[a]]=t;else if("object"==typeof i)for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&c.removeQuery(e,u,i[u]);else{if("string"!=typeof i)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");o!==t?e[i]===o?e[i]=t:n(e[i])&&(e[i]=r(e[i],o)):e[i]=t}},c.commonPath=function(t,e){var n,r=Math.min(t.length,e.length);for(n=0;r>n;n++)if(t[n]!==e[n]){n--;break}return 1>n?t[0]===e[0]&&"/"===t[0]?"/":"":("/"!==t[n]&&(n=t.substring(0,n).lastIndexOf("/")),t.substring(0,n+1))},c.withinString=function(t,e){return t.replace(c.find_uri_expression,e)},c.ensureValidHostname=function(t){if(t.match(c.invalid_hostname_characters)){if(!s)throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(s.toASCII(t).match(c.invalid_hostname_characters))throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-]")}},d.build=function(e){return e===!0?this._deferred_build=!0:(e===t||this._deferred_build)&&(this._string=c.build(this._parts),this._deferred_build=!1),this},d.clone=function(){return new c(this)},d.toString=function(){return this.build(!1)._string},d.valueOf=function(){return this.toString()},p={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},f=function(e){return function(n,r){return n===t?this._parts[e]||"":(this._parts[e]=n,this.build(!r),this)}};for(h in p)d[h]=f(p[h]);p={query:"?",fragment:"#"},f=function(e,n){return function(r,i){return r===t?this._parts[e]||"":(null!==r&&(r+="",r[0]===n&&(r=r.substring(1))),this._parts[e]=r,this.build(!i),this)}};for(h in p)d[h]=f(h,p[h]);p={search:["?","query"],hash:["#","fragment"]},f=function(t,e){return function(n,r){var i=this[t](n,r);return"string"==typeof i&&i.length?e+i:i}};for(h in p)d[h]=f(p[h][1],p[h][0]);d.pathname=function(e,n){if(e===t||e===!0){var r=this._parts.path||(this._parts.urn?"":"/");return e?c.decodePath(r):r}return this._parts.path=e?c.recodePath(e):"/",this.build(!n),this},d.path=d.pathname,d.href=function(e,n){if(e===t)return this.toString();this._string="",this._parts={protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null};var r,i=e instanceof c,o="object"==typeof e&&(e.hostname||e.path);if("string"==typeof e)this._parts=c.parse(e);else{if(!i&&!o)throw new TypeError("invalid input");var a=i?e._parts:e;for(r in a)Object.hasOwnProperty.call(this._parts,r)&&(this._parts[r]=a[r])}return this.build(!n),this},d.is=function(t){var e=!1,n=!1,r=!1,i=!1,o=!1,a=!1,s=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,n=c.ip4_expression.test(this._parts.hostname),r=c.ip6_expression.test(this._parts.hostname),e=n||r,i=!e,o=i&&l&&l.has(this._parts.hostname),a=i&&c.idn_expression.test(this._parts.hostname),s=i&&c.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return i;case"sld":return o;case"ip":return e;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return r;case"idn":return a;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return s}return null};var m=d.protocol,g=d.port,v=d.hostname;d.protocol=function(e,n){if(e!==t&&e&&(e=e.replace(/:(\/\/)?$/,""),e.match(/[^a-zA-z0-9\.+-]/)))throw new TypeError("Protocol '"+e+"' contains characters other than [A-Z0-9.+-]");return m.call(this,e,n)},d.scheme=d.protocol,d.port=function(e,n){if(this._parts.urn)return e===t?"":this;if(e!==t&&(0===e&&(e=null),e&&(e+="",":"===e[0]&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError("Port '"+e+"' contains characters other than [0-9]");return g.call(this,e,n)},d.hostname=function(e,n){if(this._parts.urn)return e===t?"":this;if(e!==t){var r={};c.parseHost(e,r),e=r.hostname}return v.call(this,e,n)},d.host=function(e,n){return this._parts.urn?e===t?"":this:e===t?this._parts.hostname?c.buildHost(this._parts):"":(c.parseHost(e,this._parts),this.build(!n),this)},d.authority=function(e,n){return this._parts.urn?e===t?"":this:e===t?this._parts.hostname?c.buildAuthority(this._parts):"":(c.parseAuthority(e,this._parts),this.build(!n),this)},d.userinfo=function(e,n){if(this._parts.urn)return e===t?"":this;if(e===t){if(!this._parts.username)return"";var r=c.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==e[e.length-1]&&(e+="@"),c.parseUserinfo(e,this._parts),this.build(!n),this},d.subdomain=function(n,r){if(this._parts.urn)return n===t?"":this;if(n===t){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}var o=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,o),s=new RegExp("^"+e(a));return n&&"."!==n[n.length-1]&&(n+="."),n&&c.ensureValidHostname(n),this._parts.hostname=this._parts.hostname.replace(s,n),this.build(!r),this},d.domain=function(n,r){if(this._parts.urn)return n===t?"":this;if("boolean"==typeof n&&(r=n,n=t),n===t){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);if(i&&i.length<2)return this._parts.hostname;var o=this._parts.hostname.length-this.tld(r).length-1;return o=this._parts.hostname.lastIndexOf(".",o-1)+1,this._parts.hostname.substring(o)||""}if(!n)throw new TypeError("cannot set domain empty");if(c.ensureValidHostname(n),!this._parts.hostname||this.is("IP"))this._parts.hostname=n;else{var a=new RegExp(e(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,n)}return this.build(!r),this},d.tld=function(n,r){if(this._parts.urn)return n===t?"":this;if("boolean"==typeof n&&(r=n,n=t),n===t){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(i+1);return r!==!0&&l&&l.list[o.toLowerCase()]?l.get(this._parts.hostname)||o:o}var a;if(!n)throw new TypeError("cannot set TLD empty");if(n.match(/[^a-zA-Z0-9-]/)){if(!l||!l.is(n))throw new TypeError("TLD '"+n+"' contains characters other than [A-Z0-9]");a=new RegExp(e(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,n)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(e(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,n)}return this.build(!r),this},d.directory=function(n,r){if(this._parts.urn)return n===t?"":this;if(n===t||n===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1,o=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return n?c.decodePath(o):o}var a=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,a),u=new RegExp("^"+e(s));return this.is("relative")||(n||(n="/"),"/"!==n[0]&&(n="/"+n)),n&&"/"!==n[n.length-1]&&(n+="/"),n=c.recodePath(n),this._parts.path=this._parts.path.replace(u,n),this.build(!r),this},d.filename=function(n,r){if(this._parts.urn)return n===t?"":this;if(n===t||n===!0){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/"),o=this._parts.path.substring(i+1);return n?c.decodePathSegment(o):o}var a=!1;"/"===n[0]&&(n=n.substring(1)),n.match(/\.?\//)&&(a=!0);var s=new RegExp(e(this.filename())+"$");return n=c.recodePath(n),this._parts.path=this._parts.path.replace(s,n),a?this.normalizePath(r):this.build(!r),this},d.suffix=function(n,r){if(this._parts.urn)return n===t?"":this;if(n===t||n===!0){if(!this._parts.path||"/"===this._parts.path)return"";var i,o,a=this.filename(),s=a.lastIndexOf(".");return-1===s?"":(i=a.substring(s+1),o=/^[a-z0-9%]+$/i.test(i)?i:"",n?c.decodePathSegment(o):o)}"."===n[0]&&(n=n.substring(1));var u,l=this.suffix();if(l)u=new RegExp(n?e(l)+"$":e("."+l)+"$");else{if(!n)return this;this._parts.path+="."+c.recodePath(n)}return u&&(n=c.recodePath(n),this._parts.path=this._parts.path.replace(u,n)),this.build(!r),this},d.segment=function(e,r,i){var o=this._parts.urn?":":"/",a=this.path(),s="/"===a.substring(0,1),u=a.split(o);if("number"!=typeof e&&(i=r,r=e,e=t),e!==t&&"number"!=typeof e)throw new Error("Bad segment '"+e+"', must be 0-based integer");return s&&u.shift(),0>e&&(e=Math.max(u.length+e,0)),r===t?e===t?u:u[e]:(null===e||u[e]===t?n(r)?u=r:(r||"string"==typeof r&&r.length)&&(""===u[u.length-1]?u[u.length-1]=r:u.push(r)):r||"string"==typeof r&&r.length?u[e]=r:u.splice(e,1),s&&u.unshift(""),this.path(u.join(o),i))};var y=d.query;d.query=function(e,n){return e===!0?c.parseQuery(this._parts.query):e!==t&&"string"!=typeof e?(this._parts.query=c.buildQuery(e),this.build(!n),this):y.call(this,e,n)},d.addQuery=function(t,e,n){var r=c.parseQuery(this._parts.query);return c.addQuery(r,t,e),this._parts.query=c.buildQuery(r),"string"!=typeof t&&(n=e),this.build(!n),this},d.removeQuery=function(t,e,n){var r=c.parseQuery(this._parts.query);return c.removeQuery(r,t,e),this._parts.query=c.buildQuery(r),"string"!=typeof t&&(n=e),this.build(!n),this},d.addSearch=d.addQuery,d.removeSearch=d.removeQuery,d.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},d.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},d.normalizeHostname=function(t){return this._parts.hostname&&(this.is("IDN")&&s?this._parts.hostname=s.toASCII(this._parts.hostname):this.is("IPv6")&&u&&(this._parts.hostname=u.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!t)),this},d.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===c.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},d.normalizePath=function(t){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var e,n,r,i,o=this._parts.path;for("/"!==o[0]&&("."===o[0]&&(n=o.substring(0,o.indexOf("/"))),e=!0,o="/"+o),o=o.replace(/(\/(\.\/)+)|\/{2,}/g,"/");;){if(r=o.indexOf("/../"),-1===r)break;if(0===r){o=o.substring(3);break}i=o.substring(0,r).lastIndexOf("/"),-1===i&&(i=r),o=o.substring(0,i)+o.substring(r+3)}return e&&this.is("relative")&&(o=n?n+o:o.substring(1)),o=c.recodePath(o),this._parts.path=o,this.build(!t),this},d.normalizePathname=d.normalizePath,d.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(c.parseQuery(this._parts.query)):this._parts.query=null,this.build(!t)),this},d.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},d.normalizeSearch=d.normalizeQuery,d.normalizeHash=d.normalizeFragment,d.iso8859=function(){var t=c.encode,e=c.decode;return c.encode=escape,c.decode=decodeURIComponent,this.normalize(),c.encode=t,c.decode=e,this},d.unicode=function(){var t=c.encode,e=c.decode;return c.encode=i,c.decode=unescape,this.normalize(),c.encode=t,c.decode=e,this},d.readable=function(){var e=this.clone();e.username("").password("").normalize();var n="";if(e._parts.protocol&&(n+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&s?(n+=s.toUnicode(e._parts.hostname),e._parts.port&&(n+=":"+e._parts.port)):n+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path[0]&&(n+="/"),n+=e.path(!0),e._parts.query){for(var r="",i=0,o=e._parts.query.split("&"),a=o.length;a>i;i++){var u=(o[i]||"").split("=");r+="&"+c.decodeQuery(u[0]).replace(/&/g,"%26"),u[1]!==t&&(r+="="+c.decodeQuery(u[1]).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=e.hash()},d.absoluteTo=function(t){var e,n,r,i=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierachical components");if(this._parts.hostname)return i;for(t instanceof c||(t=new c(t)),n=0,r;r=o[n];n++)i._parts[r]=t._parts[r];for(o=["query","path"],n=0,r;r=o[n];n++)!i._parts[r]&&t._parts[r]&&(i._parts[r]=t._parts[r]);return"/"!==i.path()[0]&&(e=t.directory(),i._parts.path=(e?e+"/":"")+i._parts.path,i.normalizePath()),i.build(),i},d.relativeTo=function(t){var n,r,i=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierachical components");if(t instanceof c||(t=new c(t)),"/"!==this.path()[0]||"/"!==t.path()[0])throw new Error("Cannot calculate common path from non-relative URLs");n=c.commonPath(i.path(),t.path()),r=t.directory();for(var a,s=0;a=o[s];s++)i._parts[a]=null;if(!n||"/"===n)return i;if(r+"/"===n)i._parts.path="./"+i.filename();else{for(var u="../",l=new RegExp("^"+e(n)),d=r.replace(l,"/").match(/\//g).length-1;d--;)u+="../";i._parts.path=i._parts.path.replace(l,u)}return i.build(),i},d.equals=function(t){var e,r,i,o=this.clone(),a=new c(t),s={},u={},l={};if(o.normalize(),a.normalize(),o.toString()===a.toString())return!0;if(e=o.query(),r=a.query(),o.query(""),a.query(""),o.toString()!==a.toString())return!1;if(e.length!==r.length)return!1;s=c.parseQuery(e),u=c.parseQuery(r);for(i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(n(s[i])){if(!n(u[i]))return!1;if(s[i].length!==u[i].length)return!1;s[i].sort(),u[i].sort();for(var d=0,h=s[i].length;h>d;d++)if(s[i][d]!==u[i][d])return!1}else if(s[i]!==u[i])return!1;l[i]=!0}for(i in u)if(Object.prototype.hasOwnProperty.call(u,i)&&!l[i])return!1;return!0},"undefined"!=typeof module&&module.exports?module.exports=c:window.URI=c}(),/*
 * jQuery Hotkeys Plugin
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Based upon the plugin by Tzury Bar Yochay:
 * http://github.com/tzuryby/hotkeys
 *
 * Original idea by:
 * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
 */
function(t){function e(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var n=e.handler,r=e.data.keys.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!(/textarea|select/i.test(e.target.nodeName)||t.hotkeys.options.filterTextInputs&&t.inArray(e.target.type,t.hotkeys.textAcceptingInputTypes)>-1)){var i="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],o=String.fromCharCode(e.which).toLowerCase(),a="",s={};t.each(["alt","ctrl","shift"],function(t,n){e[n+"Key"]&&i!==n&&(a+=n+"+")}),e.metaKey&&!e.ctrlKey&&"meta"!==i&&(a+="meta+"),e.metaKey&&"meta"!==i&&a.indexOf("alt+ctrl+shift+")>-1&&(a=a.replace("alt+ctrl+shift+","hyper+")),i?s[a+i]=!0:(s[a+o]=!0,s[a+t.hotkeys.shiftNums[o]]=!0,"shift+"===a&&(s[t.hotkeys.shiftNums[o]]=!0));for(var u=0,l=r.length;l>u;u++)if(s[r[u]])return n.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],options:{filterTextInputs:!0}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery||this.jQuery||window.jQuery),function(){window.AuthorBook={init:function(){return $(function(t){return function(){return t.initBookCRUD()}}(this))},initBookCRUD:function(){var t;return t=function(t){return $(".j_"+t).click(function(){var e,n;return n=prompt("Enter new "+t+":"),e={},e[t]=n,n?$.ajax({url:"/books/1",data:{book:e},dataType:"JSON",type:"PUT",success:function(e){return $(".j_"+t).html(e[t])}}):alert("no text entered, cancelling")})},t("subtitle"),t("description")}}}.call(this),function(){window.BookManage={init:function(t,e){return this.book=t,this.discounts=e,$(".toggleButton").click(function(t){return function(e){var n,r,i;return r=$(e.target),r.toggleClass("on"),r.toggleClass("off"),i=r.hasClass("on")?"on":"off",r.html(r.html().replace(/: (on|off)/,": "+i)),n={book:{}},n.book[r.attr("id")]="on"===i,$.ajax({url:"/books/"+t.book.id,data:n,dataType:"JSON",type:"PUT",success:function(){}}),!1}}(this)),$(".j_editScreencastToggle").click(function(){return function(t){var e;return e=$(t.target).closest(".j_screencastItem"),$(e).hasClass("j_active")?($(e).removeClass("j_active"),t.preventDefault()):($(e).addClass("j_active"),t.preventDefault())}}(this)),$("#addDiscountBtn").click(function(t){return function(){return $("#manageDiscountAdd").toggle(),$(".j_discountFormCreate").show(),$("html,body").animate({scrollTop:$("#manageDiscountAdd").offset().top},1e3),$(".j_discountFormEdit").hide(),t.scrollToEdit()}}(this)),$("#discount_all_options").change(function(){return $(".j_discountOptionCheckboxes input").attr("disabled",this.checked).attr("checked",!1),$(".j_discountOptionCheckboxes .checkLabel").toggleClass("disabled")}),this.discountTmpl=$("#discountTmpl").html(),_.each(this.discounts,function(t){return function(e){return t.renderDiscount(e)}}(this)),$("#new_discount").submit(function(t){return function(){return $("#new_discount .errors").hide(),t.edittingDiscount?$.ajax({url:"/books/"+t.book.id+"/discounts/"+t.edittingDiscount.id,data:$("#new_discount").serialize(),type:"PUT",success:function(e){return e.errors?$("#new_discount .errors").show().html(e.errors.join("<br/>")):(t.cancelDiscount(),t.renderDiscount(e,!0))}}):$.post("/books/"+t.book.id+"/discounts",$("#new_discount").serialize(),function(e){return e.errors?$("#new_discount .errors").show().html(e.errors.join("<br/>")):($("#manageDiscountAdd").hide(),$("#new_discount")[0].reset(),t.renderDiscount(e,!0))}),!1}}(this))},scrollToEdit:function(){return $("html, body").animate({scrollTop:$("#manageDiscountAdd").offset().top},100),!1},cancelDiscount:function(){return this.edittingDiscount=!1,$("#manageDiscountAdd").hide(),$("#new_discount")[0].reset()},renderDiscount:function(t,e){var n,r,i;return null==e&&(e=!1),n=$("tr[data-id='"+t.id+"']"),r=!1,n.length>0?r=!0:0===n.length&&(n=$("<tr>",{"data-id":t.id})),i=n.html($.tmpl(this.discountTmpl,t)),i.find(".deleteDiscount").click(function(e){return function(){return confirm("Delete discount "+t.code)&&$.ajax({type:"delete",url:"/books/"+e.book.id+"/discounts/"+t.id,success:function(){return i.remove()}}),!1}}(this)),i.find(".editDiscount").click(function(e){return function(){var n,r,i,o,a,s,u,l,c,d,h,p,f,m,g,v;e.edittingDiscount=t;try{for($("#manageDiscountAdd, .j_discountFormEdit").show(),$(".j_discountFormCreate").hide(),s=$("#manageDiscountAdd form"),f=["code","amount_in_dollars","percent","limit"],u=0,d=f.length;d>u;u++)a=f[u],s.find("[name='discount["+a+"]']").val(t[a]);if(s.find("[name='discount[expires]']").prop("checked",t.expires),n=new Date(t.expiration),m=[n.getMonth()+1,n.getDate()+1,n.getFullYear()],p=m[0],r=m[1],v=m[2],s.find("#discount_expiration_2i option[value='"+p+"']").attr("selected",!0),s.find("#discount_expiration_3i option[value='"+r+"']").attr("selected",!0),s.find("#discount_expiration_3i option[value='"+v+"']").attr("selected",!0),$("#discount_all_options").attr("checked",t.all_options),!t.all_options)for($(".j_discountOptionCheckboxes .checkLabel").removeClass("disabled"),g=t.book_option_ids,c=0,h=g.length;h>c;c++)l=g[c],$(".j_discountOptionCheckboxes input[value="+l+"]").attr("checked",!0)}catch(o){i=o,log(i)}return e.scrollToEdit()}}(this)),r?void 0:e?i.prependTo("#discounts"):i.appendTo("#discounts")}}}.call(this),function(){window.Book={chapter:null,currentScrollTop:0,init:function(t){var e,n,r,i,o,a,s,u,l,c;return this.opts=t,this.custom_math=$.parseJSON("{"+this.opts.custom_math+"}"),e=this.preview?Config.previewBucket:Config.bucket,this.host=e+".s3.amazonaws.com",this.base_url="https://"+this.host+"/"+this.opts.s3_path_prefix,this.path=this.opts.path,this.slug=this.opts.slug,this.opts.isCourse?(r=this.cleanHtml($("#j_sectionContent").data("html")),$("#j_sectionContent").html(r),o=function(){switch(this.opts.location.type){case"ChapterSection":return $("#section-"+this.opts.location.id);case"SubSection":return $("#sub_section-"+this.opts.location.id);default:return $("#chapter-"+this.opts.chapter_id)}}.call(this),o.addClass("courseCurrent"),this.opts.hasSubscription&&this.initExercises(),this.initFootnotes(),void this.initMathJax()):((this.preview=this.opts.preview)&&($.ajaxSetup({cache:!1}),s=$("#buildStatus"),c=function(t){return $("#buildStatus").append(t),s.animate({scrollTop:s[0].scrollHeight-s.height()},{duration:100})},a=function(){return c("Listening...\n")},a(),l=new Pusher("a0ce4dc77c0a9f4d5f96"),n=l.subscribe(this.opts.channel),n.bind("status",function(t){return c(t.message)}),n.bind("finished",function(t){return function(e){return c(e.message),t.reload(),a()}}(this))),$(function(t){return function(){return t.getChapter()}}(this)),$(window).on("popstate",function(t){return function(e){return t.popState(e)}}(this)),$(window).scroll(function(t){return function(){return t.currentScrollTop=$(window).scrollTop()}}(this)),this.chapters=this.preview?_.compact(_.map(this.opts.chapters,function(t){return function(e,n){return e===t.slug?null:{title:e.replace(/_/g," "),number:n,s3_url:t.base_url+"/html/"+e+"_fragment.html",slug:e}}}(this))):this.opts.chapters,this.fullPageChapter={slug:"_single-page",title:"Single Page",s3_url:this.base_url+"/html/"+this.slug+".html",single_page:!0},this.chapters.push(this.fullPageChapter),i=[],_.each(this.chapters,function(t){return function(e){var n;if(null==e.single_page)return n=$("<li>",{html:$("<a>",{html:e.title}),click:function(){return t.gotoChapter(e)}}),$("#book-side ul").append(n)}}(this)),u=function(t){return function(e){return 0>e?t.chapters.length-1:e>=t.chapters.length?0:e}}(this),$(".bookMenu-arrows .leftArrow").click(function(t){return function(){return t.gotoChapter(_.findWhere(t.chapters,{number:u(t.chapter.number-1)}))}}(this)),$(".bookMenu-arrows .upArrow").click(function(t){return function(){return t.scrollToHash(!0)}}(this)),$(".bookMenu-arrows .rightArrow").click(function(t){return function(){return t.gotoChapter(_.findWhere(t.chapters,{number:u(t.chapter.number+1)}))}}(this)),$("#j_singlePage").click(function(t){return function(){return t.gotoChapter(t.fullPageChapter)}}(this)),$("#sizeRegular").click(function(){return function(){return $("#book").removeClass(),$("#sizeRegular").addClass("current"),$("#sizeBig").removeClass("current"),$("#sizeBigger").removeClass("current")}}(this)),$("#sizeBig").click(function(){return function(){return $("#book").removeClass(),$("#book").addClass("big"),$("#sizeBig").addClass("current"),$("#sizeRegular").removeClass("current"),$("#sizeBigger").removeClass("current")}}(this)),$("#sizeBigger").click(function(){return function(){return $("#book").removeClass(),$("#book").addClass("bigger"),$("#sizeBigger").addClass("current"),$("#sizeRegular").removeClass("current"),$("#sizeBig").removeClass("current")}}(this)))},scrolling:function(){var t,e,n;return e=!1,n=$("#bookMenu").offset().top,t=!1,$(window).scroll(function(r){return function(){if($(window).scrollTop()>$("#bookMenu").offset().top&&!e?($("#bookMenu").addClass("bookMenuFixed"),e=!0,r.opts.isArticle&&$(".articleFixedEmailLink").addClass("open")):$(window).scrollTop()<n&&e&&($("#bookMenu").removeClass("bookMenuFixed"),e=!1,r.opts.isArticle&&$(".articleFixedEmailLink").removeClass("open")),$(window).scrollTop()>.6*$(".container").outerHeight()&&("ruby_on_rails_tutorial"===r.slug||"ruby_on_rails_tutorial_4th_edition"===r.slug)&&"frontmatter"!==r.chapter.slug){if("yes"===localStorage.getItem("emailClose"))return;t||(t=!0,$(".emailPitch").addClass("open"),$("#bookMenu").addClass("open"),$("#dropBG").addClass("open"),$("#dropBG").show())}if(r.opts.isArticle&&$(window).scrollTop()>.4*$(".container").outerHeight())if("yes"===localStorage.getItem("emailClose"));else if(!t)return t=!0,$(".emailPitch").addClass("open"),$("#dropBG").addClass("open"),$("#dropBG").show()}}(this))},loadingOn:function(){return $("#bookHtml").css({opacity:.5})},loadingOff:function(){return $("#bookHtml").css({opacity:1})},gotoChapter:function(t){return this.pushState(this.path+"/"+t.slug),this.getChapter(t.slug),hideDropMenu(),!1},reload:function(){var t;return t=this.chapter.slug,this.chapter=null,this.getChapter(t,this.currentScrollTop)},cleanHtml:function(t){var e,n,r,i;if(r="<?xml version='1.0' encoding='UTF-8'?> <!DOCTYPE html><html><div id='book'>"+t+"</div></html>",window.DOMParser)n=new DOMParser,i=n.parseFromString(r,"text/html");else{if(!window.ActiveXObject)return void alert("No suitible xml parser found!");i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(r)}return $.each(i.getElementsByTagName("img"),function(t){return function(e,n){var r;return r=n.getAttribute("src"),r.match(/^\//)||(r="/"+r),n.setAttribute("src",t.base_url+r)}}(this)),$.each(i.getElementsByTagName("script"),function(t,e){return $(e).remove()}),$.each(i.getElementsByTagName("a"),function(t){return function(e,n){var r,i,o,a,s;return(i=n.getAttribute("href"))&&""===URI(i).host()&&(null!=(a=n.getAttribute("class"))?a.match(/hyperref/):void 0)&&i.match(/_fragment/)?(r=i.replace(/.*?#/,""),s=t.opts.isArticle?"#"+r:t.opts.isCourse?(o=t.opts.labelLookup[r]+("#"+r),"/course/"+t.opts.slug+"/"+o):t.path+"/"+i.replace(/\_fragment.html/,""),n.setAttribute("href",s)):void 0}}(this)),e=(new XMLSerializer).serializeToString(i),$("<div>").html(e)},initFootnotes:function(){return $(".footnotes").each(function(){return $(this).parent().attr("id").match(/^cha-._footnotes$/)?$(this).hide():void 0}),$(".footnote a").each(function(t){return function(e,n){var r,i;return i=n.href.match(/#(.+)$/)[1],r=t.opts.footnotes[i],$(n).qtip({content:{title:"Footnote "+i.match(/\d+$/)[0],text:r},style:"qtip-bootstrap",hide:{fixed:!0,delay:300}})}}(this))},initExercises:function(){var t,e;return t=$("#exerciseAnswerTmpl").html(),e=function(n){return function(r,i){var o,a,s,u,l,c;return a={exercise_id:r.id,answer_text:null!=i?i.text:void 0,answer_html:null!=i?i.html:void 0,answer_id:null!=i?i.id:void 0,make_public:null!=i?i.make_public:void 0,token:null!=i?i.token:void 0,public_count:(null!=i?i.public_count:void 0)||n.exerciseAnswerCounts[r.id]||0},o=$(r).parent().append($.tmpl(t,a)),c=function(){return o.find(".j_exercise-answer-text").hide(),o.find(".j_exercise-answer-form").hide(),o.find(".j_exercise-answer-btn").show()},u=function(){return o.find(".j_exercise-answer-btn").hide(),o.find(".j_exercise-answer-form").hide(),o.find(".j_exercise-answer-text").show()},l=function(){return o.find(".j_exercise-answer-form").show().find("textarea")[0].focus(),o.find(".j_exercise-answer-text").hide(),o.find(".j_exercise-answer-btn").hide()},s=function(){return i?u():c(),!1},o.find(".j_exercise-answer-text .j_edit").click(l),o.find(".j_exercise-answer-btn").click(l),o.find(".j_exercise-answer-form .j_cancel").click(s),s(),o.find(".j_exercise-answer-form").submit(function(t){var a,s,u,l,c;return c=$(t.target).find("textarea").val(),u=$(t.target).find("[name=make_public]").is(":checked"),s=$(t.target).data("exercise-id"),a={book_id:n.opts.book_id,exercise_answer:{text:c,location_id:n.opts.location.id,location_type:n.opts.location.type,label:s,make_public:u}},l=i?$.ajax({url:"/exercise_answers/"+i.id,method:"PUT",data:a}):$.post("/exercise_answers",a),l.success(function(t){return i&&(n.answers=_.without(n.answers,_.findWhere(n.answers,{id:i.id}))),i="removed"!==t.status?(n.answers.push(t),t):void 0,o.find(".j_exercise-answer").remove(),e(r,i),$("#sub_section-"+n.opts.location.id+" .currentCount").html(n.answers.length)}),!1})}}(this),$.getJSON("",{exercise_json:!0,_:(new Date).getTime()},function(t){return function(n){var r,i,o,a,s,u,l,c,d,h,p,f,m,g,v,y;for(t.answers=n.exercise_answers,t.exerciseAnswerCounts=n.exercise_answer_counts,$("span.exercise").each(function(n,r){var i;return i=r.id,e(r,_.findWhere(t.answers,{label:i}))}),f=n.all_exercise_answer_counts,o=0,l=f.length;l>o;o++)r=f[o],i=$("#"+r.type+"-"+r.id),y=i.find(".courseSec-answers").show(),r.user_answered===r.total?y.html(r.total):(y.find(".currentCount").html(r.user_answered),y.find(".totalCount").html(r.total));for(m=n.progress,a=0,c=m.length;c>a;a++){switch(p=m[a],i=$("#sub_section-"+p.sub_section_id),p.status){case"started":i.addClass("courseStarted");break;case"completed":s=i.find(".currentCount").length&&parseInt(i.find(".totalCount").html())>0?"courseStarted":"courseCompleted",i.addClass(s)}h=i.parents(".courseSec"),v=h.find(".j_courseSection"),h.find(".courseSub .courseStarted").length?v.addClass("courseStarted"):h.find(".courseSub .courseCompleted").length&&v.addClass("courseCompleted")}for(g=n.all_exercise_answer_counts,u=0,d=g.length;d>u;u++)r=g[u],i=$("#"+r.type+"-"+r.id).find(".courseSec-answers").show(),r.user_answered===r.total&&i.addClass("course-answer-completed");return $(".side-menu").addClass("course-progress-loaded")}}(this))},getChapter:function(t,e){var n,r,i;return null==t&&(t=null!=(i=window.location.pathname.match(RegExp(this.path+"\\/(.*?)$")))?i[1]:void 0),n=_.find(this.chapters,function(e){return t===e.slug})||this.chapters[0],n!==this.chapter?(this.chapter=n,$("#chapter-title").html(n.title),r=n.title.replace(/<(?:.|\n)*?>/gm,""),$("title").html("https://www.railstutorial.org/book"===window.location.href?"Learn Ruby on Rails with the Best Free Online Tutorial | Ruby on Rails Tutorial by Michael Hartl":r.toLowerCase().indexOf("frontmatter")>=0?this.opts.title+" | Softcover.io":this.opts.isArticle?this.opts.title+" | LearnEnough.com":r+" | "+this.opts.title+" | Softcover.io"),this.loadingOn(),$.get(this.chapter.s3_url,function(t){return function(n){var r,i,o;return t.loadingOff(),r=t.cleanHtml(n),$("#bookHtml").html(r.find("[id=book]").last()),$("#book [data-tralics-id], .footnotes [id], .chapter-star[id], .footnote[id]").each(function(){return $(this).attr("id","_"+this.id)}),t.opts.isArticle&&articleSections(),t.scrollToHash(),i=$("#bookHtml img").length,$("#bookHtml img").on("load",function(){return 0===--i?t.scrollToHash():void 0}),$("#cha-0_footnotes").prepend($("#articleAuthorandEmail").remove()),$("#bookHtml .hyperref, #bookHtml .footnote a, #bookHtml .arrow, .side-menu li a").on("click",function(e){var n,r,i;return n=e.currentTarget,e.isDefaultPrevented()||e.metaKey||e.ctrlKey||!n.href?void 0:(i=URI(n.href),r=URI(window.location.href),i.host()===r.host()?(t.pushState(i.pathname()+i.hash()),i.pathname()===r.pathname()?t.scrollToHash():t.getChapter(i.filename()),!1):!0)}),o=function(){return t.opts.isArticle?void 0:e?($(window).scrollTop(e+1),setTimeout(function(){return $(window).scrollTop(e+1)},10)):t.scrollToHash()},o(),t.initMathJax(o)}}(this)).fail(function(t){return function(){return t.loadingOff(),$("#bookHtml").html($("#bookContentNotAvailable").clone().show())}}(this))):void 0},scrollOffsets:[],storeScrollOffset:function(){return this.scrollOffsets.push(this.currentScrollTop)},scrollToHash:function(t){var e,n,r,i,o;return n=window.location.hash,e=$("#_"+(null!=n?n.substr(1):void 0)),this.opts.isArticle||(0===e.length||t)&&(e=$("#book")),r=0,$("#bookMenu").hasClass("articleMenuWr")||(r+=$("#bookMenu").height()),$(".header-push.fixed").is(":visible")&&(r+=$(".header-push.fixed").height()+20),o=((null!=(i=e.offset())?i.top:void 0)||0)-r-10,$(window).scrollTop(o),setTimeout(function(){return $(window).scrollTop(o)},100),!1},pushState:function(t){return this.storeScrollOffset(),history.pushState(null,{},t)},popState:function(t){var e;return t.preventDefault(),e=this.scrollOffsets.pop(),this.storeScrollOffset(),this.getChapter(null,e)},initMathJax:function(t){var e,n;return $("#mathJaxJS").remove(),delete MathJax,e=$(".chapter").attr("data-number"),n=document.createElement("script"),$("head").append(n),n.id="mathJaxJS",n.type="text/javascript",n.onload=function(n){return function(){return MathJax.Hub.Config({"HTML-CSS":{availableFonts:["TeX"]},TeX:{extensions:["AMSmath.js","AMSsymbols.js"],equationNumbers:{autoNumber:"AMS",formatNumber:function(t){return e+"."+t}},Macros:_.extend({PolyTeX:"Poly{\\\\TeX}",PolyTeXnic:"Poly{\\\\TeX}nic"},n.custom_math)},showProcessingMessages:!1,messageStyle:"none",imageFont:null}),t?MathJax.Hub.Register.StartupHook("End",t):void 0}}(this),n.src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"}},$(document).on("click",".j_toggle-markdown",function(){return $(this).closest(".exercise-answer-item").find(".exercise-answer-formated").toggle(),$(this).closest(".exercise-answer-item").find(".exercise-answer-md").toggle(),$(this).find("span").html("Show Formatting"===$(this).find("span").html()?"Hide Formatting":"Show Formatting")})}.call(this),function(){window.CustomDomain={setup:function(t){return this.opts=t,$(function(t){return function(){return t.opts.header?($(".j_userHeader").html(t.opts.header),$("#bookMenu").hasClass("articleMenuWr")||$(".j_downloadLinks").html(t.opts.downloadLinks),$(".j_showPageHeader").html(t.opts.showPageHeader),$(".j_followBookForm").html(t.opts.followBookForm),t.opts.author&&!$("#bookMenu").hasClass("articleMenuWr")?$(".container").addClass("authorView"):t.opts.author&&$("#bookMenu").hasClass("articleMenuWr")&&$("body").addClass("authorView"),setupMenus()):void 0}}(this))}}}.call(this),function(){window.Editor={init:function(t){var e;return e=$("#editorPane").width(),setInterval(function(){return e!==$("#editorPane").width()?(e=$("#editorPane").width(),$("#previewPane").width($(window).width()-e-81)):void 0},50),log("connecting..."),this.socket=io(t.socketServer),this.socket.on("welcome",function(){return function(){return log("connected")}}(this)),this.socket.on("html",function(t){return function(e){return log("took "+(new Date-t.previewStartedAt)/1e3+"s"),t.setContent(e.content)}}(this)),$("#content").bind("keydown","ctrl+s",function(t){return function(){return t.preview()}}(this)),$("#content").scroll(function(){return $("#content").scrollTop()>35?void 0:$("#content").css("paddingTop",50-2.5*$("#content").scrollTop())})},getContent:function(){return $("#content").val()},setContent:function(t){return $("#previewPane #book")[0].innerHTML=t},preview:function(){return this.setContent("previewing..."),this.previewStartedAt=new Date,this.socket.emit("preview",{content:this.getContent()})}},jQuery.fn.extend({insertAtCursor:function(t){return this.each(function(){var e,n,r,i;return document.selection?(this.focus(),r=document.selection.createRange(),r.text=t,this.focus()):this.selectionStart||"0"===this.selectionStart?(i=this.selectionStart,e=this.selectionEnd,n=this.scrollTop,this.value=this.value.substring(0,i)+t+this.value.substring(e,this.value.length),this.focus(),this.selectionStart=i+t.length,this.selectionEnd=i+t.length,this.scrollTop=n):(this.value+=t,this.focus())})},insertAroundCursor:function(t,e){return this.each(function(){var n,r,i,o;return document.selection?(this.focus(),i=document.selection.createRange(),i.text=t+i.text+e,this.focus()):this.selectionStart||"0"===this.selectionStart?(o=this.selectionStart,n=this.selectionEnd,r=this.scrollTop,this.value=this.value.substring(0,o)+t+this.value.substring(o,n)+e+this.value.substring(n,this.value.length),this.focus(),this.selectionStart=o+t.length,this.selectionEnd=n+t.length,this.scrollTop=r):(this.value+=t+e,this.focus())})},selectRange:function(t,e){return this.each(function(){var n;return this.setSelectionRange?(this.focus(),this.setSelectionRange(t,e)):this.createTextRange?(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select()):void 0})}})}.call(this),function(){window.Purchase={quantity:1,discountPercent:0,getCurrentBookOption:function(){return this.optionId=$(".bundleItem.active").data("bookoption"),this.optionPrice=parseFloat($(".bundleItem.active").find(".j_optionPrice").data("price"))},calculateSubscriptionPrice:function(){var t,e;if(null!=(e=this.opts)?e.plans:void 0)return this.currentPlan=_.findWhere(this.opts.plans,{id:parseInt($("#j_plan").val())}),this.currentSeats=parseInt($("#j_seat_quantity").val()),this.totalSeats=this.currentSeats>1?(t=this.currentSeats%this.opts.seatsPerPack,t>0?this.currentSeats+this.opts.seatsPerPack-t:this.currentSeats):1,this.seatPacks=this.totalSeats/this.opts.seatsPerPack,this.subTotal=this.currentPlan.amount/100*this.totalSeats,this.discount?(this.discountAmount=this.discount.amount_off/100||this.discount.percent_off/100*this.subTotal,this.total=this.subTotal-this.discountAmount):this.total=this.subTotal,$(".j_seatsSection").toggle(this.totalSeats>1),$("#j_seatPacks").html(this.seatPacks),$("#j_totalSeats").html(this.totalSeats),$("#j_interval").html(this.currentPlan.interval),$("#j_planAmount").html("$"+(this.currentPlan.amount/100).toFixed(2)),$(".j_discountSection").toggle(!!this.discount),this.discount&&($("#j_discountAmount").html("-$"+this.discountAmount.toFixed(2)),$("#j_subTotal").html("$"+this.subTotal.toFixed(2))),$(".j_total").toggle(!!(this.totalSeats>1||this.discount)),$("#j_totalPrice").html("$"+this.total.toFixed(2))},calculatePrice:function(){var t;return this.subTotal=this.optionPrice*this.quantity,this.discountAmount=this.discountable()?(t=this.discount.amount?this.discount.amount/100:0,this.discount.percent?t+=this.discount.percent/100*this.subTotal:void 0,t>this.subTotal?this.subTotal:t):0,$(".j_discountApplicable").toggle(this.discountable()),$(".j_discountUnapplicable").toggle(!this.discountable()),this.total=this.subTotal-this.discountAmount,$(".j_subTotal").html("$"+this.subTotal.toFixed(2)),$(".j_promoTotal").html("-$"+this.discountAmount.toFixed(2)),$(".j_checkoutTotal").html("$"+this.total.toFixed(2)),$(".j_billing").toggle(this.total>0)},discountable:function(){return this.discount?this.discount.book_option_ids.indexOf(this.optionId)>-1||this.discount.all_options:!1},getQuantity:function(){var t;return t=$(".bundleItem.active").find(".j_quantity"),this.quantity=parseInt(t.val())||1,this.quantity<1&&(this.quantity=1,t.val(1)),this.quantity},updateQuantityFields:function(){return $(".j_bundleItem").not(".active").find(".j_quantity").val(this.quantity),$(".j_purchaseQuantity").val(this.quantity)},free:function(){var t;return 0===this.total&&(!(null!=(t=this.discount)?t.duration:void 0)||"forever"===this.discount.duration)},init:function(t){var e,n;return this.opts=null!=t?t:{},this.discount=this.opts.discount,(this.subscription=this.opts.subscription)&&(this.subscriptionId=this.opts.subscriptionId,this.seatsPerPack=this.opts.seatsPerPack),$(".required").keyup(function(){return $(this).val()?$(this).removeClass("error"):void 0}),(this.useCardOnFile=this.opts.useCardOnFile)&&(e=$(".card-number, .card-expiry-month, .card-cvc, .card-expiry-year, .card-name"),e.change(function(t){return function(){return t.useCardOnFile=!_.any(e,function(t){return $(t).val()!==$(t).attr("original-value")})}}(this)).each(function(){return function(t,e){return $(e).attr("original-value",e.value)}}(this))),this.ccForm$=$(".j_checkoutForm"),$(".j_updateCard").click(function(){return function(t){return $("#currentCardInfo").hide(),$(".creditCardInput").show(),$(".card-cvc").val(""),t.preventDefault(),t.stopPropagation()}}(this)),this.subscription?($("#j_plan").change(function(t){return function(){return t.calculateSubscriptionPrice()}}(this)),$("#j_seat_quantity").change(function(t){return function(){return t.calculateSubscriptionPrice()}}(this)),$("#j_seat_quantity").keyup(function(t){return function(){return t.calculateSubscriptionPrice()}}(this)),this.calculateSubscriptionPrice()):(this.getCurrentBookOption(),$("#j_bookOption").change(function(t){return function(){return t.getCurrentBookOption(),t.calculatePrice()}}(this)),this.getQuantity(),n=function(t){return function(){return t.getCurrentBookOption(),t.getQuantity(),t.updateQuantityFields(),t.calculatePrice()}}(this),$(".j_quantity").keyup(n),$(".j_quantity").change(n),this.calculatePrice(),this.updateQuantityFields(),$(".j_bundleItem.active").find(".j_quantity").val(this.quantity),$(".j_promoCode").keypress(function(t){return function(e){return log("promo"),13===e.keyCode?(t.ajaxPromoCode(),e.preventDefault(),e.stopPropagation()):void 0}}(this)),$("#bundleOptions .j_selectBundle").click(function(t){return function(e){return $(".j_bundleItem").removeClass("active"),$(e.currentTarget).closest(".j_bundleItem").addClass("active"),$(".j_bookOption").val($(e.currentTarget).closest(".j_bundleItem").data("bookoption")),$("#shippingInput").toggle(!!$(e.target).data("require-shipping-address")),t.getCurrentBookOption(),t.calculatePrice(),e.preventDefault(),e.stopPropagation()}}(this)),$("#isGift").click(function(){return $("#giftEmails").toggle($(this).is(":checked"))}),$("#purchaseFor").keypress(function(t){return function(e){return 13===e.keyCode?(t.submitForm(),e.stopPropagation(),e.preventDefault()):void 0}}(this))),this.bindForm()},bindForm:function(){var t;return t=function(t){return function(){return t.submitForm(),!1}}(this),$(".j_checkoutForm").on("submit",t),$(".j_submitButton").on("click",function(){return t(),!1}),$(".j_promoButton").click(function(t){return function(){return t.ajaxPromoCode()}}(this))},purchaseErrors:function(t){return $(".purchaseErrors").show().html("<h2>Error processing your payment</h2><ul><li>"+t+"</li></ul>")},userErrors:function(t){return log(t),$(".userErrors").show().html("<h2>There has been a problem creating your account</h2><ul><li>"+t[0].join("</li><li>")+"</li></ul>"),$("html, body").animate({scrollTop:$("#error_explanation.userErrors").offset().top-200},500)},submitForm:function(){var t,e,n;return $("form .required:visible").each(function(){return function(t,e){return e=$(e),e.toggleClass("error",!e.val())}}(this)),$("form .required.error").length>0?this.purchaseErrors("missing fields are highlighted in red."):(null!=(t=$("#purchaseEmail").val())?t.trim():void 0)!==(null!=(e=$("#purchaseEmailConfirmation").val())?e.trim():void 0)?this.purchaseErrors("emails do not match"):$("#isGift").is(":checked")&&$("#giftEmail").val()!==$("#giftEmailConfirmation").val()?($("#giftEmail, #giftEmailConfirmation").addClass("error"),this.purchaseErrors("gift emails do not match")):(this.disableSubmit(),this.useCardOnFile||this.free()?this.submitPurchase():(n={number:$(".card-number").val(),cvc:$(".card-cvc").val(),exp_month:$(".card-expiry-month").val(),exp_year:$(".card-expiry-year").val(),name:$(".card-name").val()},Stripe.createToken(n,function(t){return function(e,n){return t.stripeResponseHandler(e,n)}}(this))))},submitPurchase:function(){var t,e;return $(".purchaseErrors").hide().html(""),$(".j_checkoutForm input, .j_checkoutForm select").removeClass("error"),t=this.subscription?"/subscriptions":"/purchases",this.subscriptionId&&(t+="/"+this.subscriptionId),e=[],_.each(this.ccForm$.serializeArray(),function(t){return t.name.match(/^cc_/)?void 0:e.push(t)}),$.post(t,e,function(t){return function(e){var n;return e.success?window.location=e.redirect:(log(e),t.enableSubmit(),n=e.errors,n.user?t.userErrors(n.user):t.purchaseErrors(n),n.card&&($(".card-number").addClass("error"),t.purchaseErrors(n.card.join("<br/>"))),n.cvc&&($(".card-cvc").addClass("error"),t.purchaseErrors("CVV is "+n.cvc[0])),window.location.hash="#purchaseErrors")}}(this)).error(function(t){return function(){return t.enableSubmit(),t.purchaseErrors("Sorry, our application encountered an error, we've been notified!")}}(this))},enableSubmit:function(){return $(".j_submitButton").html(this.submitText||"Purchase").attr("disabled",!1)},disableSubmit:function(){return this.submitText=$(".j_submitButton").html(),$(".j_submitButton").html("Processing...").attr("disabled",!0)},stripeResponseHandler:function(t,e){var n;return e.error?(this.enableSubmit(),this.purchaseErrors(e.error.message)):(n=this.subscription?"subscription":"purchase",this.ccForm$.append("<input type=hidden name='"+n+"[stripe_token]' value='"+e.id+"'/>"),this.submitPurchase())},ajaxPromoCode:function(){var t,e,n,r;return n=$(".j_checkoutForm"),r=n.find(".j_promoCode").val(),e=n.find(".j_bookId").val(),t={promo_code:r},$.ajax({type:"GET",url:"/books/"+e+"/discounts/validate",data:t,success:function(t){return function(e){return $(".j_promoStatus").removeClass("invalidPromo"),e.valid?(t.discountPercent=e.percent,t.calculatePrice(),$(".j_promoStatus").html("Promotional code accepted!")):void 0}}(this),error:function(){return $(".j_promoStatus").addClass("invalidPromo"),$(".j_promoStatus").html("Sorry, the code '"+r+"' is not valid")}}),!1},dev:{setup:function(){return $(".card-number").change(),$(".card-name").val("Nick Merwin"),$(".card-cvc").val("123"),$(".card-expiry-month").val("12"),$(".card-expiry-year").val("2020")},valid:function(){return this.setup(),$(".card-number").val("4242424242424242")},error:function(){return this.setup(),$(".card-number").val("4000000000000002")},cvc:function(){return this.setup(),$(".card-number").val("4000000000000101")},declined:function(){return this.setup(),$(".card-number").val("4000000000000002")}}}}.call(this),function(){}.call(this),function(){window.UserEdit={init:function(t){return this.user=t,$("#updateCardForm").submit(function(t){return function(){return $("#card-errors, #card-status").hide(),t.btn=$("#updateCardForm input[type=submit]").attr("disabled",!0),t.originalBtn=t.btn.val(),t.btn.val(t.btn.data("disable-with")),t.userParams={address_line1:$(".card-address-line1").val(),address_line2:$(".card-address-line2").val(),address_city:$(".card-address-city").val(),address_state:$(".card-address-state").val(),address_zip:$(".card-address-zip").val(),address_country:$(".card-address-country").val()},t.stripeParams={number:$(".card-number").val(),cvc:$(".card-cvc").val(),exp_month:$(".card-expiry-month").val(),exp_year:$(".card-expiry-year").val(),name:$(".card-name").val()},Stripe.createToken(_.extend(t.stripeParams,t.userParams),function(e,n){return t.stripeResponseHandler(e,n)}),!1}}(this))},enableBtn:function(){return this.btn.attr("disabled",!1).val(this.originalBtn)},stripeResponseHandler:function(t,e){return e.error?($("#card-errors").show().html(e.error.message),this.enableBtn()):$.ajax({url:"/users/"+this.user.id,type:"PUT",dataType:"json",data:{user:_.extend(this.userParams,{stripe_token:e.id})},success:function(t){return function(e){return t.enableBtn(),$("#card-status").show().html(e.errors?e.errors.card:"Payment info updated.")
}}(this)})}}}.call(this),function(){var t,e,n,r,i,o=[].slice;window.log=function(){return function(){var t,e,n;t=1<=arguments.length?o.call(arguments,0):[];try{return console.log.apply(console,t)}catch(n){e=n}}}(this),window.genericAjaxErrorCallback=function(t,e,n,r){return log("AJAX error with URL: \n		"+n.url+" \nerror:\n		"+r)},$(document).ajaxError(genericAjaxErrorCallback),$(document).ready(function(){var t;t=localStorage.headPush,t||(localStorage.headPush="no")}),$(document).on("click","#header-push-toggle a",function(){return $("html").toggleClass("header-push-closed"),headPush()}),window.headPush=function(){return localStorage.headPush=$("html").hasClass("header-push-closed")?"yes":"no"},window.setupMenus=function(){return $(".bookCover").click(function(){return $(this).parents(".yourBookItem").addClass("active")}),$(".bookControls").click(function(){return $(this).parents(".yourBookItem").removeClass("animated")}),$(".dropDown").click(function(){return $(".dropMenu",this).addClass("open"),$("#dropBG").show()}),$("#dropBG").click(function(){return hideDropMenu(),$("#dropBG").hide(),closeEmailPops()}),$(".dropMenu a").click(function(){return hideDropMenu(),$("#dropBG").hide()}),$("#mobileMenu").click(function(){return $(".j_userHeader").toggleClass("openLeft").toggleClass("closeLeft"),$(".container").toggleClass("openLeft").toggleClass("closeLeft")}),$(document).keyup(function(t){return 27===t.which&&$(".dropMenu").hasClass("open")?(hideDropMenu(),$("#dropBG").hide()):void 0})},window.hideDropMenu=function(){return $(".dropMenu").removeClass("open")},$(function(){return setupMenus()}),window.articleSections=function(){var t;return t=[],$("#book").find("h2:not(.author), h3").each(function(){return""!==$(this).html()?$("#article-side ul").append("<li>"+$(this).html()+"</li>"):void 0})},window.marketingCTA=function(){var t,e,n,r,i,o;return $("#buy").length?(e=$("#buy").offset().top,t=$("#buy").offset().top+$("#buy").outerHeight()/2):e=$("#bookTestimonials").offset().top,o=$("#bookTestimonials").offset().top,$("#bookFAQ").length&&(n=$("#bookFAQ").offset().top),$("#bookFreeForm").length&&(r=$("#bookFreeForm").offset().top),i="#bookTestimonials",$(window).scroll(function(){return function(){if($(window).scrollTop()<e?$("#bookCTA").removeClass("show"):$(window).scrollTop()>=e&&($("#bookCTA").addClass("show"),i="#bookTestimonials",$("#ctaNext button").text("Next Section: About the Author")),$(window).scrollTop()>=t?$("#ctaBuy").addClass("show"):$(window).scrollTop()<t&&$("#ctaBuy").removeClass("show"),$(window).scrollTop()>=o-1&&($("#bookFAQ").length?(i="#bookFAQ",$("#ctaNext button").text("NEXT SECTION: FAQ")):$("#bookFreeForm").length&&(i="#bookFreeForm",$("#ctaNext button").text("NEXT SECTION: MORE INFO"))),$(window).scrollTop()>=n-1){if(!$("#bookFreeForm").length)return;i="#bookFreeForm",$("#ctaNext button").text("NEXT SECTION: MORE INFO")}return $(window).scrollTop()>=r-1?(i="#bookHeader",$("#ctaNext button").text("BACK TO TOP")):void 0}}(this)),$("#ctaNext").click(function(){return $("html,body").animate({scrollTop:$(i).offset().top},1e3)}),$("#ctaBuy").click(function(){return $("html,body").animate({scrollTop:$("#buy").offset().top},1e3)})},window.closeEmailPops=function(){return $(".emailPitch").removeClass("open").hide(),$("#bookMenu").removeClass("open"),$("#dropBG").removeClass("open").hide(),localStorage.setItem("emailClose","yes")},window.starRating=function(){return $(".starRating")},$(document).on("click",".starRatingSet a",function(){var t,e,n;for(t=$(this).parent(),$(".starRatingSet li").removeClass(),$("#review_rating").val(t.index()+1),e=0,n=[];e<t.index()+1;)$(".starRatingSet li").eq(e).addClass("lit"),n.push(e++);return n}),n=[],e=[],r=[],t=[],i=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0000ff","#00ff00"],window.gchartAllOne=function(){var n,i;return $("#chartWr").append($("<div/>").attr("id","chart")),r=[],e=[],t=[],$(".chartTable thead").each(function(){return $(this).find("th").each(function(){return e.push($(this).html())}),e.shift(),e.unshift("x")}),$(".chartTable tbody").find("tr").each(function(){return $(this).find(".datum").each(function(e){return t.push(0===e?$(this).html():parseFloat($(this).html().match(/[0-9,.]+/)[0].replace(",","")))}),r.push(t),t=[]}),r.reverse(),r.unshift(e),log(r),i={chartArea:{width:880},backgroundColor:"transparent",fontName:"Open Sans Condensed",width:980,height:400,lineWidth:3,pointSize:5,legend:{position:"bottom",textStyle:{color:"#666"}},hAxis:{textStyle:{color:"#aaa",fontSize:"12"}},vAxis:{baselineColor:"#B9C6D3",gridlines:{color:"#dfe4ef"},textStyle:{color:"#aaa",fontSize:"12"}},tooltip:{textStyle:{fontName:"Open Sans",color:"#666",fontSize:"12",showColorCode:"true"}}},n=google.visualization.arrayToDataTable(r),new google.visualization.LineChart(document.getElementById("chart")).draw(n,i)},window.gchartMany=function(o){var a,s,u,l,c,d,h,p;for(c=n.lastIndexOf(o),c>-1?n.splice(c,1):void 0!==o&&n.push(o),t=[],a=[],t.push(["x"]),l=0;l<r.length;)t.push([]),l++;for($("#chartNav a").removeClass("on"),u=0;u<n.length;)p=n[u].valueOf(),t[0].push(e[p]),$("#chartNav"+n[u]).addClass("on"),a.push(i[p]),u++;for(l=0;l<r.length;){for(t[l+1].push(r[l][0]),u=0;u<n.length;)p=n[u].valueOf()+1,t[l+1].push(r[l][p]),u++;l++}return d=t.shift(),t.reverse(),t.unshift(d),h={chartArea:{width:880},backgroundColor:"transparent",colors:a,fontName:"Open Sans Condensed",width:980,height:400,lineWidth:3,pointSize:5,legend:{position:"none"},hAxis:{slantedText:!0,textStyle:{color:"#aaa",fontSize:"10"}},vAxis:{baselineColor:"#B9C6D3",gridlines:{color:"#dfe4ef"},textStyle:{color:"#aaa",fontSize:"11"}},tooltip:{textStyle:{fontName:"Open Sans",color:"#666",fontSize:"12",showColorCode:"true"}}},s=google.visualization.arrayToDataTable(t),new google.visualization.LineChart(document.getElementById("chart")).draw(s,h)},window.gchartInit=function(){var n;for($("#chartWr").append($("<div/>").attr("id","chart")),$("#chartWr").append($("<div/>").attr("id","chartNav")),$(".chartTable thead").each(function(){return $(this).find("th").each(function(){return e.push($(this).html())}),e.shift()}),n=0;n<e.length;)$("#chartNav").append($('<a href="javascript://" onClick="gchartMany('+n+')" id="chartNav'+n+'"><span style="background-color:'+i[n]+';"></span>'+e[n]+'</a>"')),n++;return $(".chartTable tbody").find("tr").each(function(){return $(this).find("td .datum").each(function(e){return t.push(0===e?$(this).html():parseFloat($(this).html().match(/[0-9,.]+/)[0].replace(",","")))}),r.push(t),t=[]}),gchartMany(2)}}.call(this),function(){window.Wizard={init:function(t,e){var n;return n=$(".authorWizardSetup input"),n.each(function(r,i){return $(i).change(function(){var e,r;return e=$(i).is(":checked"),$("."+i.id+"-yes").toggle(e),$("."+i.id+"-no").toggle(!e),r={},n.each(function(){return this.id&&(r[this.id]=$(this).is(":checked")),!0}),$.ajax({url:"/books/"+t,data:{book:{wizard_attrs:r}},dataType:"JSON",type:"PUT"})}),"true"===e[i.id]?$(i).click():void 0})}}}.call(this),function(){var t,e,n,r,i,o,a,s,u,l,c,d,h,p,f,m,g,v,y,b=[].slice,x=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=jQuery,t.payment={},t.payment.fn={},t.fn.payment=function(){var e,n;return n=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],t.payment.fn[n].apply(this,e)},i=/(\d{1,4})/g,r=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:i,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:i,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:i,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:i,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:i,length:[13,14,15,16],cvcLength:[3],luhn:!0}],e=function(t){var e,n,i;for(t=(t+"").replace(/\D/g,""),n=0,i=r.length;i>n;n++)if(e=r[n],e.pattern.test(t))return e},n=function(t){var e,n,i;for(n=0,i=r.length;i>n;n++)if(e=r[n],e.type===t)return e},h=function(t){var e,n,r,i,o,a;for(r=!0,i=0,n=(t+"").split("").reverse(),o=0,a=n.length;a>o;o++)e=n[o],e=parseInt(e,10),(r=!r)&&(e*=2),e>9&&(e-=9),i+=e;return i%10===0},d=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document&&null!=(e=document.selection)&&"function"==typeof e.createRange?e.createRange().text:void 0)?!0:!1},p=function(e){return setTimeout(function(){var n,r;return n=t(e.currentTarget),r=n.val(),r=t.payment.formatCardNumber(r),n.val(r)})},s=function(n){var r,i,o,a,s,u,l;return o=String.fromCharCode(n.which),!/^\d+$/.test(o)||(r=t(n.currentTarget),l=r.val(),i=e(l+o),a=(l.replace(/\D/g,"")+o).length,u=16,i&&(u=i.length[i.length.length-1]),a>=u||null!=r.prop("selectionStart")&&r.prop("selectionStart")!==l.length)?void 0:(s=i&&"amex"===i.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,s.test(l)?(n.preventDefault(),r.val(l+" "+o)):s.test(l+o)?(n.preventDefault(),r.val(l+o+" ")):void 0)},o=function(e){var n,r;return n=t(e.currentTarget),r=n.val(),e.meta||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==r.length?void 0:8===e.which&&/\s\d?$/.test(r)?(e.preventDefault(),n.val(r.replace(/\s\d?$/,""))):void 0},u=function(e){var n,r,i;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(n=t(e.currentTarget),i=n.val()+r,/^\d$/.test(i)&&"0"!==i&&"1"!==i?(e.preventDefault(),n.val("0"+i+" / ")):/^\d\d$/.test(i)?(e.preventDefault(),n.val(""+i+" / ")):void 0):void 0},l=function(e){var n,r,i;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(n=t(e.currentTarget),i=n.val(),/^\d\d$/.test(i)?n.val(""+i+" / "):void 0):void 0},c=function(e){var n,r,i;return r=String.fromCharCode(e.which),"/"===r?(n=t(e.currentTarget),i=n.val(),/^\d$/.test(i)&&"0"!==i?n.val("0"+i+" / "):void 0):void 0},a=function(e){var n,r;if(!e.meta&&(n=t(e.currentTarget),r=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===r.length)))return/\s\/\s?\d?$/.test(r)?(e.preventDefault(),n.val(r.replace(/\s\/\s?\d?$/,""))):void 0},v=function(t){var e;return t.metaKey||t.ctrlKey?!0:32===t.which?!1:0===t.which?!0:t.which<33?!0:(e=String.fromCharCode(t.which),!!/[\d\s]/.test(e))},m=function(n){var r,i,o,a;return r=t(n.currentTarget),o=String.fromCharCode(n.which),/^\d+$/.test(o)&&!d(r)?(a=(r.val()+o).replace(/\D/g,""),i=e(a),i?a.length<=i.length[i.length.length-1]:a.length<=16):void 0},g=function(e){var n,r,i;return n=t(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)&&!d(n)?(i=n.val()+r,i=i.replace(/\D/g,""),i.length>6?!1:void 0):void 0},f=function(e){var n,r,i;return n=t(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)?(i=n.val()+r,i.length<=4):void 0},y=function(e){var n,i,o,a,s;return n=t(e.currentTarget),s=n.val(),a=t.payment.cardType(s)||"unknown",n.hasClass(a)?void 0:(i=function(){var t,e,n;for(n=[],t=0,e=r.length;e>t;t++)o=r[t],n.push(o.type);return n}(),n.removeClass("unknown"),n.removeClass(i.join(" ")),n.addClass(a),n.toggleClass("identified","unknown"!==a),n.trigger("payment.cardType",a))},t.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",f),this},t.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",g),this.on("keypress",u),this.on("keypress",c),this.on("keypress",l),this.on("keydown",a),this},t.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this.on("keypress",s),this.on("keydown",o),this.on("keyup",y),this.on("paste",p),this},t.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this},t.payment.fn.cardExpiryVal=function(){return t.payment.cardExpiryVal(t(this).val())},t.payment.cardExpiryVal=function(t){var e,n,r,i;return t=t.replace(/\s/g,""),i=t.split("/",2),e=i[0],r=i[1],2===(null!=r?r.length:void 0)&&/^\d+$/.test(r)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),r=n+r),e=parseInt(e,10),r=parseInt(r,10),{month:e,year:r}},t.payment.validateCardNumber=function(t){var n,r;return t=(t+"").replace(/\s+|-/g,""),/^\d+$/.test(t)?(n=e(t),n?(r=t.length,x.call(n.length,r)>=0&&(n.luhn===!1||h(t))):!1):!1},t.payment.validateCardExpiry=function(e,n){var r,i,o;return"object"==typeof e&&"month"in e&&(o=e,e=o.month,n=o.year),e&&n?(e=t.trim(e),n=t.trim(n),/^\d+$/.test(e)&&/^\d+$/.test(n)&&parseInt(e,10)<=12?(i=new Date(n,e),r=new Date,i.setMonth(i.getMonth()-1),i.setMonth(i.getMonth()+1,1),i>r):!1):!1},t.payment.validateCardCVC=function(e,r){var i,o;return e=t.trim(e),/^\d+$/.test(e)?r?(i=e.length,x.call(null!=(o=n(r))?o.cvcLength:void 0,i)>=0):e.length>=3&&e.length<=4:!1},t.payment.cardType=function(t){var n;return t?(null!=(n=e(t))?n.type:void 0)||null:null},t.payment.formatCardNumber=function(t){var n,r,i,o;return(n=e(t))?(i=n.length[n.length.length-1],t=t.replace(/\D/g,""),t=t.slice(0,+i+1||9e9),n.format.global?null!=(o=t.match(n.format))?o.join(" "):void 0:(r=n.format.exec(t),null!=r&&r.shift(),null!=r?r.join(" "):void 0)):t}}.call(this),function(t){t.fn.splitter=function(e){return e=e||{},this.each(function(){function n(e){l.outline&&(s=s||m.clone(!1).insertAfter(h)),d.css("-webkit-user-select","none"),m.addClass(l.activeClass),h._posSplit=h[0][l.pxSplit]-e[l.eventPos],t(document).bind("mousemove",r).bind("mouseup",i)}function r(t){var e=h._posSplit+t[l.eventPos];l.outline?(e=Math.max(0,Math.min(e,c._DA-m._DA)),m.css(l.origin,e)):o(e)}function i(e){m.removeClass(l.activeClass);var n=h._posSplit+e[l.eventPos];l.outline&&(s.remove(),s=null,o(n)),d.css("-webkit-user-select","text"),t(document).unbind("mousemove",r).unbind("mouseup",i)}function o(t){t=Math.max(h._min,c._DA-p._max,Math.min(t,h._max,c._DA-m._DA-p._min)),m._DA=m[0][l.pxSplit],m.css(l.origin,t).css(l.fixed,c._DF),h.css(l.origin,0).css(l.split,t).css(l.fixed,c._DF),p.css(l.origin,t+m._DA).css(l.split,c._DA-m._DA-t).css(l.fixed,c._DF)}function a(t){for(var e=0,n=1;n<arguments.length;n++)e+=Math.max(parseInt(t.css(arguments[n]))||0,0);return e}var s,u=(e.splitHorizontal?"h":e.splitVertical?"v":e.type)||"v",l=t.extend({activeClass:"active",pxPerKey:8,tabIndex:0,accessKey:""},{v:{keyLeft:39,keyRight:37,cursor:"e-resize",splitbarClass:"vsplitbar",outlineClass:"voutline",type:"v",eventPos:"pageX",origin:"left",split:"width",pxSplit:"offsetWidth",side1:"Left",side2:"Right",fixed:"height",pxFixed:"offsetHeight",side3:"Top",side4:"Bottom"},h:{keyTop:40,keyBottom:38,cursor:"n-resize",splitbarClass:"hsplitbar",outlineClass:"houtline",type:"h",eventPos:"pageY",origin:"top",split:"height",pxSplit:"offsetHeight",side1:"Top",side2:"Bottom",fixed:"width",pxFixed:"offsetWidth",side3:"Left",side4:"Right"}}[u],e),c=t(this).css({position:"relative"}),d=t(">*",c[0]).css({position:"absolute","z-index":"1","-moz-outline-style":"none"}),h=t(d[0]),p=t(d[1]),f=t('<a href="javascript:void(0)"></a>').attr({accessKey:l.accessKey,tabIndex:l.tabIndex,title:l.splitbarClass}).bind("keydown",function(t){var e=t.which||t.keyCode,n=e==l["key"+l.side1]?1:e==l["key"+l.side2]?-1:0;n&&o(h[0][l.pxSplit]+n*l.pxPerKey,!1)}).bind("blur",function(){m.removeClass(l.activeClass)}),m=t(d[2]||"<div></div>").insertAfter(h).css("z-index","10").append(f).attr({"class":l.splitbarClass,unselectable:"on"}).css({position:"absolute","user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none"}).bind("mousedown",n);/^(auto|default|)$/.test(m.css("cursor"))&&m.css("cursor",l.cursor),m._DA=m[0][l.pxSplit],c._PBF=t.boxModel?a(c,"border"+l.side3+"Width","border"+l.side4+"Width"):0,c._PBA=t.boxModel?a(c,"border"+l.side1+"Width","border"+l.side2+"Width"):0,h._pane=l.side1,p._pane=l.side2,t.each([h,p],function(){this._min=l["min"+this._pane]||a(this,"min-"+l.split),this._max=l["max"+this._pane]||a(this,"max-"+l.split)||9999,this._init=l["size"+this._pane]===!0?parseInt(t.curCSS(this[0],l.split)):l["size"+this._pane]});var g=h._init;if(isNaN(p._init)||(g=c[0][l.pxSplit]-c._PBA-p._init-m._DA),l.cookie){t.cookie||alert("jQuery.splitter(): jQuery cookie plugin required");var v=parseInt(t.cookie(l.cookie));isNaN(v)||(g=v),t(window).bind("unload",function(){var e=String(m.css(l.origin));t.cookie(l.cookie,e,{expires:l.cookieExpires||365,path:l.cookiePath||document.location.pathname})})}isNaN(g)&&(g=Math.round((c[0][l.pxSplit]-c._PBA-m._DA)/2)),l.anchorToWindow?(c._hadjust=a(c,"borderTopWidth","borderBottomWidth","marginBottom"),c._hmin=Math.max(a(c,"minHeight"),20),t(window).bind("resize",function(){var e=c.offset().top,n=t(window).height();c.css("height",Math.max(n-e-c._hadjust,c._hmin)+"px")}).trigger("resize")):l.resizeToWidth&&t(window).bind("resize",function(){c.trigger("resize")}),c.bind("resize",function(t,e){t.target==this&&(c._DF=c[0][l.pxFixed]-c._PBF,c._DA=c[0][l.pxSplit]-c._PBA,c._DF<=0||c._DA<=0||o(isNaN(e)?l.sizeRight||l.sizeBottom?c._DA-p[0][l.pxSplit]-m._DA:h[0][l.pxSplit]:e))}).trigger("resize",[g])})}}(jQuery);